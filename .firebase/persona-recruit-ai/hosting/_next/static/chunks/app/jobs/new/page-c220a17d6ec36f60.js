(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2766],{24328:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>B});var t=r(95155),i=r(12115),n=r(62177),l=r(90221),a=r(71153),c=r(30285),o=r(66695),d=r(62523),x=r(88539),j=r(85057),m=r(17759),h=r(59409),u=r(26126),p=r(22346),b=r(13563),g=r(87481),y=r(18046),f=r(25318),v=r(45554),N=r(74601),R=r(50172),C=r(17832),w=r(8376);let k=a.Ik({jobTitle:a.Yj().min(3,"Job title must be at least 3 characters"),yearsOfExperience:a.Yj().min(1,"Please specify years of experience"),company:a.Yj().optional(),department:a.Yj().optional(),location:a.Yj().optional(),jobType:a.k5(["Full-time","Part-time","Contract","Remote"]).optional()}),J=a.Ik({title:a.Yj().min(3,"Job title must be at least 3 characters"),location:a.Yj().min(2,"Location must be at least 2 characters"),type:a.k5(["Full-time","Part-time","Contract","Remote"]),department:a.Yj().min(2,"Department must be at least 2 characters"),experience:a.Yj().min(1,"Experience requirement is required"),salary:a.Yj().optional(),description:a.Yj().min(50,"Description must be at least 50 characters"),requirements:a.YO(a.Yj()).min(1,"At least one requirement is needed"),mustHaveRequirements:a.YO(a.Yj()).min(1,"At least one must-have requirement is needed"),benefits:a.YO(a.Yj()).min(1,"At least one benefit is needed"),skills:a.YO(a.Yj()).min(1,"At least one skill is needed"),responsibilities:a.YO(a.Yj()).optional(),urgency:a.k5(["Low","Medium","High"]).default("Medium")});function B(){let[e,s]=(0,i.useState)("ai-generation"),[r,a]=(0,i.useState)(!1),[B,A]=(0,i.useState)(!1),[q,I]=(0,i.useState)(null),{toast:S}=(0,g.dj)(),T=(0,n.mN)({resolver:(0,l.u)(k),defaultValues:{jobTitle:"",yearsOfExperience:"",company:"",department:"",location:"",jobType:void 0}}),V=(0,n.mN)({resolver:(0,l.u)(J),defaultValues:{title:"",location:"",type:"Full-time",department:"",experience:"",salary:"",description:"",requirements:[],mustHaveRequirements:[],benefits:[],skills:[],responsibilities:[],urgency:"Medium"}}),Y=async e=>{a(!0);try{let r=await fetch("/api/jobs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Failed to generate job description");let t=(await r.json()).data;I(t),V.setValue("title",e.jobTitle),V.setValue("experience",e.yearsOfExperience),V.setValue("location",e.location||""),V.setValue("department",e.department||""),V.setValue("type",e.jobType||"Full-time"),V.setValue("description",t.description),V.setValue("requirements",t.requirements),V.setValue("mustHaveRequirements",t.mustHaveRequirements),V.setValue("benefits",t.benefits),V.setValue("skills",t.skills),V.setValue("responsibilities",t.responsibilities||[]),s("job-form"),S({title:"✨ Job Description Generated!",description:"AI has created a comprehensive job description. You can now review and customize it."})}catch(e){S({title:"Generation Failed",description:"Failed to generate job description. Please try again.",variant:"destructive"})}finally{a(!1)}},M=async e=>{A(!0);try{if(!(await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,isRemote:"Remote"===e.type})})).ok)throw Error("Failed to create job");S({title:"✅ Job Created Successfully!",description:"The job posting has been created and is now active."}),T.reset(),V.reset(),I(null),s("ai-generation")}catch(e){S({title:"Save Failed",description:"Failed to save job. Please try again.",variant:"destructive"})}finally{A(!1)}},P=(e,s)=>{if(!s.trim())return;let r=V.getValues(e);V.setValue(e,[...r,s.trim()])},F=(e,s)=>{let r=V.getValues(e);V.setValue(e,r.filter((e,r)=>r!==s))},O=e=>{let{fieldName:s,label:r,placeholder:n,description:l}=e,[a,o]=(0,i.useState)(""),x=V.watch(s);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(j.J,{className:"text-base font-semibold",children:r}),l&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:l}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.p,{placeholder:n,value:a,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),P(s,a),o(""))}}),(0,t.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>{P(s,a),o("")},children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map((e,r)=>(0,t.jsxs)(u.E,{variant:"secondary",className:"text-sm py-1 px-3",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>F(s,r),className:"ml-2 text-muted-foreground hover:text-destructive",children:(0,t.jsx)(f.A,{className:"h-3 w-3"})})]},r))})]})};return"ai-generation"===e?(0,t.jsx)(b.m,{children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold mb-4 flex items-center justify-center gap-3",children:[(0,t.jsx)(v.A,{className:"h-10 w-10 text-primary"}),"AI Job Description Generator"]}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground",children:"Just provide the job title and experience level - our AI will create a comprehensive job description for you!"})]}),(0,t.jsxs)(o.Zp,{className:"border-2 border-primary/20",children:[(0,t.jsxs)(o.aR,{className:"text-center",children:[(0,t.jsxs)(o.ZB,{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-5 w-5 text-primary"}),"Generate with AI"]}),(0,t.jsx)(o.BT,{children:"Fill in the basic details and let AI create the perfect job description"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(m.lV,{...T,children:(0,t.jsxs)("form",{onSubmit:T.handleSubmit(Y),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(m.zB,{control:T.control,name:"jobTitle",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{className:"text-base font-semibold",children:"Job Title *"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., Senior Software Engineer",...s})}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:T.control,name:"yearsOfExperience",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{className:"text-base font-semibold",children:"Years of Experience *"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., 3-5 years",...s})}),(0,t.jsx)(m.C5,{})]})}})]}),(0,t.jsx)(p.Separator,{}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(m.zB,{control:T.control,name:"company",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Company Name (Optional)"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"Your Company Name",...s})})]})}}),(0,t.jsx)(m.zB,{control:T.control,name:"department",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Department (Optional)"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., Engineering",...s})})]})}}),(0,t.jsx)(m.zB,{control:T.control,name:"location",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Location (Optional)"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., San Francisco, CA",...s})})]})}}),(0,t.jsx)(m.zB,{control:T.control,name:"jobType",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Job Type (Optional)"}),(0,t.jsxs)(h.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,t.jsx)(m.MJ,{children:(0,t.jsx)(h.bq,{children:(0,t.jsx)(h.yv,{placeholder:"Select job type"})})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"Full-time",children:"Full-time"}),(0,t.jsx)(h.eb,{value:"Part-time",children:"Part-time"}),(0,t.jsx)(h.eb,{value:"Contract",children:"Contract"}),(0,t.jsx)(h.eb,{value:"Remote",children:"Remote"})]})]})]})}})]}),(0,t.jsx)(c.$,{type:"submit",className:"w-full h-12 text-lg",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Magic..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.A,{className:"mr-2 h-5 w-5"}),"Generate Job Description with AI"]})})]})})})]})]})}):(0,t.jsx)(b.m,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-8 w-8 text-green-500"}),"Review & Customize Job"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"AI has generated your job description. Review and customize as needed."})]}),(0,t.jsx)(c.$,{variant:"outline",onClick:()=>s("ai-generation"),children:"← Back to Generator"})]}),(0,t.jsx)(m.lV,{...V,children:(0,t.jsxs)("form",{onSubmit:V.handleSubmit(M),className:"space-y-8",children:[(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Basic Information"})}),(0,t.jsx)(o.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(m.zB,{control:V.control,name:"title",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Job Title"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{...s})}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:V.control,name:"department",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Department"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{...s})}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:V.control,name:"location",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Location"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{...s})}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:V.control,name:"type",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Job Type"}),(0,t.jsxs)(h.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,t.jsx)(m.MJ,{children:(0,t.jsx)(h.bq,{children:(0,t.jsx)(h.yv,{})})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"Full-time",children:"Full-time"}),(0,t.jsx)(h.eb,{value:"Part-time",children:"Part-time"}),(0,t.jsx)(h.eb,{value:"Contract",children:"Contract"}),(0,t.jsx)(h.eb,{value:"Remote",children:"Remote"})]})]}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:V.control,name:"experience",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Experience Required"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{...s})}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:V.control,name:"salary",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Salary Range (Optional)"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(d.p,{placeholder:"e.g., $80,000 - $120,000",...s})}),(0,t.jsx)(m.C5,{})]})}})]})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Job Description"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(m.zB,{control:V.control,name:"description",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.MJ,{children:(0,t.jsx)(x.T,{...s,rows:6,placeholder:"Comprehensive job description..."})}),(0,t.jsx)(m.C5,{})]})}})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Skills & Technologies"}),(0,t.jsx)(o.BT,{children:"Skills will be displayed as badges on the job posting"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(O,{fieldName:"skills",label:"Skills",placeholder:"Add a skill (e.g., React, Python, Leadership)",description:"Press Enter or click + to add skills"})})]}),(0,t.jsxs)(o.Zp,{className:"border-orange-200 bg-orange-50/50",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{className:"text-orange-800",children:"Must-Have Requirements"}),(0,t.jsx)(o.BT,{className:"text-orange-700",children:"Critical requirements used for candidate scoring and filtering. These are non-negotiable."})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(O,{fieldName:"mustHaveRequirements",label:"Must-Have Requirements",placeholder:"Add a critical requirement",description:"These will be used to score and filter candidates"})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"General Requirements"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(O,{fieldName:"requirements",label:"Requirements",placeholder:"Add a requirement"})})]}),(0,t.jsxs)(o.Zp,{className:"border-green-200 bg-green-50/50",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{className:"text-green-800",children:"Benefits & Perks"}),(0,t.jsx)(o.BT,{className:"text-green-700",children:"Attractive benefits to showcase your company culture and compensation package"})]}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(O,{fieldName:"benefits",label:"Benefits",placeholder:"Add a benefit or perk",description:"What makes your company great to work for?"})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Key Responsibilities"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(O,{fieldName:"responsibilities",label:"Responsibilities",placeholder:"Add a key responsibility"})})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Job Priority"})}),(0,t.jsx)(o.Wu,{children:(0,t.jsx)(m.zB,{control:V.control,name:"urgency",render:e=>{let{field:s}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Urgency Level"}),(0,t.jsxs)(h.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,t.jsx)(m.MJ,{children:(0,t.jsx)(h.bq,{children:(0,t.jsx)(h.yv,{})})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"Low",children:"Low Priority"}),(0,t.jsx)(h.eb,{value:"Medium",children:"Medium Priority"}),(0,t.jsx)(h.eb,{value:"High",children:"High Priority"})]})]}),(0,t.jsx)(m.C5,{})]})}})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>s("ai-generation"),children:"← Regenerate with AI"}),(0,t.jsx)(c.$,{type:"submit",size:"lg",disabled:B,className:"min-w-[150px]",children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Create Job Posting"]})})]})]})})]})})}},82105:(e,s,r)=>{Promise.resolve().then(r.bind(r,24328))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(82105)),_N_E=e.O()}]);