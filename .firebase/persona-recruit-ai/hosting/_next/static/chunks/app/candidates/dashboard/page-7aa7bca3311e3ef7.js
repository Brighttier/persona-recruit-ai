(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1230],{32405:(e,s,a)=>{Promise.resolve().then(a.bind(a,70024))},70024:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var r=a(95155),l=a(12115),t=a(40283),i=a(30285),c=a(66695),n=a(13563),d=a(50172),m=a(11133),o=a(10469),x=a(57082),h=a(30534),j=a(91467),f=a(89829),u=a(763),N=a(32773),p=a(2160),w=a(18271),y=a(6874),b=a.n(y),g=a(18477);function v(){let{getToken:e,loading:s}=(0,t.A)(),[a,y]=(0,l.useState)(null),[v,A]=(0,l.useState)(!0),[Z,R]=(0,l.useState)(null),k=(0,l.useCallback)(async()=>{if(!s){A(!0),R(null);try{let s=await e();if(!s)throw Error("User not authenticated. Please log in.");let a=await fetch("/api/candidates/dashboard",{headers:{Authorization:"Bearer ".concat(s)}});if(!a.ok)throw Error("Failed to fetch dashboard data");let r=await a.json();y(r.data)}catch(e){R(e instanceof Error?e.message:"An unknown error occurred")}finally{A(!1)}}},[e,s]);return((0,l.useEffect)(()=>{k()},[k]),v)?(0,r.jsx)(g.N,{children:(0,r.jsx)(n.m,{className:"flex items-center justify-center h-full",children:(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"})})}):Z||!a?(0,r.jsx)(g.N,{children:(0,r.jsx)(n.m,{className:"flex items-center justify-center h-full",children:(0,r.jsxs)(c.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(c.aR,{className:"text-center",children:[(0,r.jsx)(m.A,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,r.jsx)(c.ZB,{children:"Error Loading Dashboard"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("p",{className:"text-center text-muted-foreground",children:Z||"Could not load your dashboard data."}),(0,r.jsx)(i.$,{className:"w-full mt-4",onClick:()=>window.location.reload(),children:"Try Again"})]})]})})}):(0,r.jsx)(g.N,{children:(0,r.jsxs)(n.m,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-headline font-semibold text-foreground flex items-center",children:[(0,r.jsx)(o.A,{className:"mr-3 h-8 w-8 text-primary"}),"Welcome!"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"This is your personal dashboard. Manage your job search, profile, and interviews."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)(c.Zp,{className:"shadow-md",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"Applications Sent"}),(0,r.jsx)(x.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.applicationsApplied}),(0,r.jsx)(b(),{href:"/jobs",className:"text-xs text-primary hover:underline",children:"Browse more jobs"})]})]}),(0,r.jsxs)(c.Zp,{className:"shadow-md",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"Upcoming Interviews"}),(0,r.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.upcomingInterviews}),(0,r.jsx)(b(),{href:"/candidates/my-interviews",className:"text-xs text-primary hover:underline",children:"View schedule"})]})]}),(0,r.jsxs)(c.Zp,{className:"shadow-md",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"Offers Received"}),(0,r.jsx)(j.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.offersReceived}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Details in 'My Interviews'"})]})]}),(0,r.jsxs)(c.Zp,{className:"shadow-md",children:[(0,r.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium",children:"AI Recommended Jobs"}),(0,r.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.aiRecommendedJobs}),(0,r.jsx)(b(),{href:"/jobs",className:"text-xs text-primary hover:underline",children:"See recommendations"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,r.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsxs)(c.ZB,{className:"flex items-center",children:[(0,r.jsx)(f.A,{className:"mr-2 h-6 w-6 text-primary"})," AI Recommended Jobs For You"]}),(0,r.jsx)(c.BT,{children:"Based on your profile and skills, here are some roles you might be interested in."})]}),(0,r.jsx)(c.Wu,{className:"space-y-3",children:a.recentJobs.map(e=>(0,r.jsxs)("div",{className:"p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("h4",{className:"font-semibold text-md",children:e.title}),(0,r.jsx)(b(),{href:"/jobs/".concat(e.jobIdForLink||e.id),passHref:!0,children:(0,r.jsx)(i.$,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",children:"View Job"})})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.company})]},e.id))}),(0,r.jsx)(c.wL,{children:(0,r.jsx)(b(),{href:"/jobs",passHref:!0,children:(0,r.jsx)(i.$,{variant:"outline",children:"Explore All Jobs"})})})]})}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(c.Zp,{className:"shadow-md",children:[(0,r.jsx)(c.aR,{children:(0,r.jsx)(c.ZB,{className:"text-lg",children:"Quick Actions"})}),(0,r.jsxs)(c.Wu,{className:"space-y-2",children:[(0,r.jsx)(b(),{href:"/candidates/my-interviews",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4 text-primary"}),"My Interviews"]})}),(0,r.jsx)(b(),{href:"/candidates/my-applications",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 text-primary"}),"My Applications"]})}),(0,r.jsx)(b(),{href:"/candidates/my-documents",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start",children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4 text-primary"}),"My Documents"]})}),(0,r.jsx)(b(),{href:"/referrals",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4 text-primary"}),"My Referrals"]})}),(0,r.jsx)(b(),{href:"/candidates/settings",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start",children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4 text-primary"}),"Profile Settings"]})}),(0,r.jsx)(b(),{href:"/jobs",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"default",className:"w-full mt-2",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Search for Jobs"]})})]})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(32405)),_N_E=e.O()}]);