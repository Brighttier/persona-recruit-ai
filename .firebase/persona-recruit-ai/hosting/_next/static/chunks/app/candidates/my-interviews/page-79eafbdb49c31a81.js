(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5927],{46005:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>I});var a=n(95155),l=n(12115),t=n(66681),i=n(13563),c=n(66695),r=n(26126),d=n(30285),x=n(85127),m=n(98328),h=n(8376),o=n(24371),j=n(11133),u=n(50172),N=n(12543),f=n(83173),w=n(37648),p=n(45481),v=n(61840),g=n(6874),y=n.n(g),A=n(10371),b=n(83013);function I(){let{user:e}=(0,t.A)(),[s,n]=(0,l.useState)([]),[g,I]=(0,l.useState)(!0),[Z,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{!async function(){if(null==e?void 0:e.id)try{let s=await fetch("/api/interviews?candidateId=".concat(e.id));if(!s.ok)throw Error("Failed to fetch interviews");let a=await s.json();n(a.data||[])}catch(e){C(e instanceof Error?e.message:"An error occurred")}finally{I(!1)}}()},[null==e?void 0:e.id]);let B=s.filter(e=>"scheduled"===e.status||"pending"===e.status||"confirmed"===e.status),E=s.filter(e=>"completed"===e.status),R=s.filter(e=>"cancelled"===e.status),H=e=>{switch(null==e?void 0:e.toLowerCase()){case"scheduled":case"confirmed":return(0,a.jsx)(m.A,{className:"h-4 w-4"});case"completed":return(0,a.jsx)(h.A,{className:"h-4 w-4"});case"cancelled":return(0,a.jsx)(o.A,{className:"h-4 w-4"});case"pending":return(0,a.jsx)(j.A,{className:"h-4 w-4"});default:return null}},M=e=>{switch(null==e?void 0:e.toLowerCase()){case"scheduled":case"confirmed":default:return"default";case"completed":return"secondary";case"cancelled":return"destructive";case"pending":return"outline"}};return g?(0,a.jsx)(i.m,{className:"max-w-6xl",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading your interviews..."})]})})}):Z?(0,a.jsx)(i.m,{className:"max-w-6xl",children:(0,a.jsxs)(c.Zp,{className:"max-w-md mx-auto mt-8",children:[(0,a.jsxs)(c.aR,{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,a.jsx)(c.ZB,{children:"Error Loading Interviews"})]}),(0,a.jsxs)(c.Wu,{className:"text-center",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:Z}),(0,a.jsx)(d.$,{onClick:()=>window.location.reload(),children:"Try Again"})]})]})}):(0,a.jsxs)(i.m,{className:"max-w-6xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(y(),{href:"/candidates/dashboard",passHref:!0,children:(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})}),(0,a.jsx)("h1",{className:"text-3xl font-headline font-bold text-foreground",children:"My Interviews"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Track and manage all your interview schedules and results"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Interviews"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.length})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsx)(c.ZB,{className:"text-sm font-medium",children:"Upcoming"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:B.length})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsx)(c.ZB,{className:"text-sm font-medium",children:"Completed"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E.length})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{className:"pb-2",children:(0,a.jsx)(c.ZB,{className:"text-sm font-medium",children:"With Analysis"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-accent",children:E.filter(e=>e.analysisId).length})})]})]}),B.length>0&&(0,a.jsxs)(c.Zp,{className:"mb-8 shadow-lg",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"text-xl flex items-center",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5 text-primary"}),"Upcoming Interviews"]}),(0,a.jsx)(c.BT,{children:"Your scheduled interviews"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)(x.XI,{children:[(0,a.jsx)(x.A0,{children:(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nd,{children:"Company & Position"}),(0,a.jsx)(x.nd,{children:"Date & Time"}),(0,a.jsx)(x.nd,{children:"Status"}),(0,a.jsx)(x.nd,{children:"Actions"})]})}),(0,a.jsx)(x.BF,{children:B.map(e=>(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.jobTitle}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mr-1"}),e.companyName]})]})}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),(0,b.GP)(new Date(e.date),"MMM d, yyyy")]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center",children:[(0,a.jsx)(w.A,{className:"h-3 w-3 mr-1"}),(0,b.GP)(new Date(e.date),"h:mm a")]})]})}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)(r.E,{variant:M(e.status),className:"flex items-center gap-1 w-fit",children:[H(e.status),e.status]})}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y(),{href:"/interview/consent?id=".concat(e.id,"&candidate=").concat(encodeURIComponent("Sarah Johnson"),"&position=").concat(encodeURIComponent(e.jobTitle),"&company=").concat(encodeURIComponent(e.companyName),"&duration=30"),target:"_blank",children:(0,a.jsxs)(d.$,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Join AI Interview"]})}),(0,a.jsx)(y(),{href:"/jobs/".concat(e.jobId),passHref:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})})]})})]},e.id))})]})})]}),E.length>0&&(0,a.jsxs)(c.Zp,{className:"mb-8 shadow-lg",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"text-xl flex items-center",children:[(0,a.jsx)(h.A,{className:"mr-2 h-5 w-5 text-green-600"}),"Completed Interviews"]}),(0,a.jsx)(c.BT,{children:"View your interview history and analysis"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)(x.XI,{children:[(0,a.jsx)(x.A0,{children:(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nd,{children:"Company & Position"}),(0,a.jsx)(x.nd,{children:"Date"}),(0,a.jsx)(x.nd,{children:"Status"}),(0,a.jsx)(x.nd,{children:"Analysis"}),(0,a.jsx)(x.nd,{children:"Actions"})]})}),(0,a.jsx)(x.BF,{children:E.map(e=>{let s=e.analysisId?(0,A.Q_)(e.analysisId):void 0;return(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.jobTitle}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mr-1"}),e.companyName]})]})}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1 text-muted-foreground"}),(0,b.GP)(new Date(e.date),"MMM d, yyyy")]})}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)(r.E,{variant:"secondary",className:"flex items-center gap-1 w-fit",children:[(0,a.jsx)(h.A,{className:"h-3 w-3"}),"Completed"]})}),(0,a.jsx)(x.nA,{children:s?(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.E,{className:"bg-green-100 text-green-800",children:["Score: ",s.overallScore,"/100"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:s.recommendation})]}):(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"No analysis"})}),(0,a.jsx)(x.nA,{children:s?(0,a.jsx)(y(),{href:"/interviews/analysis/".concat(e.analysisId),passHref:!0,children:(0,a.jsx)(d.$,{variant:"outline",size:"sm",children:"View Analysis"})}):(0,a.jsx)(d.$,{variant:"ghost",size:"sm",disabled:!0,children:"No Analysis"})})]},e.id)})})]})})]}),R.length>0&&(0,a.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.ZB,{className:"text-xl flex items-center",children:[(0,a.jsx)(o.A,{className:"mr-2 h-5 w-5 text-destructive"}),"Cancelled Interviews"]})}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)(x.XI,{children:[(0,a.jsx)(x.A0,{children:(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nd,{children:"Company & Position"}),(0,a.jsx)(x.nd,{children:"Original Date"}),(0,a.jsx)(x.nd,{children:"Status"})]})}),(0,a.jsx)(x.BF,{children:R.map(e=>(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.jobTitle}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.companyName})]})}),(0,a.jsx)(x.nA,{children:(0,b.GP)(new Date(e.date),"MMM d, yyyy")}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)(r.E,{variant:"destructive",className:"flex items-center gap-1 w-fit",children:[(0,a.jsx)(o.A,{className:"h-3 w-3"}),"Cancelled"]})})]},e.id))})]})})]}),0===s.length&&(0,a.jsx)(c.Zp,{children:(0,a.jsxs)(c.Wu,{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"No interviews scheduled yet."}),(0,a.jsx)(y(),{href:"/jobs",passHref:!0,children:(0,a.jsx)(d.$,{className:"mt-4",children:"Browse Jobs"})})]})})]})}},65090:(e,s,n)=>{Promise.resolve().then(n.bind(n,46005))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(65090)),_N_E=e.O()}]);