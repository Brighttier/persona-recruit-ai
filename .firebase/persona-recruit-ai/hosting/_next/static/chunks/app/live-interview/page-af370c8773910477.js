(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{7853:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(95155),a=r(12115),i=r(30285),l=r(66695),n=r(62523),c=r(85057),d=r(91394),o=r(66424),u=r(26126),x=r(18477),h=r(13563),m=r(50172),f=r(73503),p=r(91721),j=r(58111),v=r(73672),w=r(34477);let g=(0,w.createServerReference)("40bc56f826fe0832081934d1fb1de70f2650560976",w.callServer,void 0,w.findSourceMapURL,"conductConversationTurn");var N=r(87481);let y={title:"Senior Software Engineer",description:"Seeking a highly skilled Senior Software Engineer with expertise in cloud technologies, distributed systems, and modern JavaScript frameworks like React and Next.js. The ideal candidate will have a strong background in designing scalable solutions and a passion for innovation."};function b(){let[e,s]=(0,a.useState)(!1),[r,w]=(0,a.useState)(""),[b,S]=(0,a.useState)([]),[k,A]=(0,a.useState)(""),[I,T]=(0,a.useState)(!1),[E,R]=(0,a.useState)(!1),[C,q]=(0,a.useState)(""),P=(0,a.useRef)(null),{toast:_}=(0,N.dj)();(0,a.useEffect)(()=>{if(P.current){let e=P.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[b]);let D=async e=>{if(e.preventDefault(),!r.trim())return void _({variant:"destructive",title:"Name Required",description:"Please enter your name to begin the interview."});s(!0),T(!0);let t={candidateName:r,jobTitle:y.title,jobDescription:y.description,conversationHistory:[]};try{let e=await g(t);S([{speaker:"ai",text:e.aiResponse}])}catch(e){console.error("Error starting interview:",e),_({variant:"destructive",title:"Interview Start Failed",description:"Could not connect to the AI interviewer. Please try again later."}),s(!1)}finally{T(!1)}},F=async()=>{if(!k.trim()||I||E)return;let e=[...b,{speaker:"user",text:k}];S(e),A(""),T(!0);let s={candidateName:r,jobTitle:y.title,jobDescription:y.description,conversationHistory:e};try{let e=await g(s);S(s=>[...s,{speaker:"ai",text:e.aiResponse}]),e.isInterviewOver&&(R(!0),q(e.reasonForEnding||"The interview has concluded. Thank you for your time!"))}catch(e){console.error("Error during conversation turn:",e),_({variant:"destructive",title:"Connection Error",description:"There was an error communicating with the AI. Please try sending your message again."}),S(b)}finally{T(!1)}};return e?(0,t.jsx)(x.N,{children:(0,t.jsx)("div",{className:"flex h-full w-full flex-col",children:(0,t.jsx)(h.m,{className:"flex-1 flex flex-col p-0 h-full",children:(0,t.jsxs)(l.Zp,{className:"flex flex-col h-full w-full rounded-none border-0",children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between border-b",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.ZB,{children:["Live Interview: ",y.title]}),(0,t.jsx)(l.BT,{children:"with Alex, your AI Interviewer"})]}),(0,t.jsx)(u.E,{variant:E?"destructive":"default",children:E?"Interview Over":"In Progress"})]}),(0,t.jsx)(l.Wu,{className:"flex-1 p-0",children:(0,t.jsx)(o.F,{className:"h-full p-4",ref:P,children:(0,t.jsxs)("div",{className:"space-y-6",children:[b.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 ".concat("user"===e.speaker?"justify-end":""),children:["ai"===e.speaker&&(0,t.jsx)(d.eu,{className:"w-8 h-8",children:(0,t.jsx)(d.q5,{children:(0,t.jsx)(f.A,{})})}),(0,t.jsx)("div",{className:"max-w-md rounded-lg p-3 ".concat("ai"===e.speaker?"bg-muted":"bg-primary text-primary-foreground"),children:(0,t.jsx)("p",{className:"text-sm",children:e.text})}),"user"===e.speaker&&(0,t.jsx)(d.eu,{className:"w-8 h-8",children:(0,t.jsx)(d.q5,{children:(0,t.jsx)(p.A,{})})})]},s)),I&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.eu,{className:"w-8 h-8",children:(0,t.jsx)(d.q5,{children:(0,t.jsx)(f.A,{})})}),(0,t.jsx)("div",{className:"max-w-md rounded-lg p-3 bg-muted",children:(0,t.jsx)(m.A,{className:"w-5 h-5 animate-spin"})})]})]})})}),(0,t.jsx)(l.wL,{className:"border-t pt-4",children:E?(0,t.jsxs)("div",{className:"w-full text-center p-4 bg-green-100 text-green-800 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-5 w-5"}),(0,t.jsx)("p",{className:"font-medium",children:C})]}):(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),F()},className:"flex w-full items-center space-x-2",children:[(0,t.jsx)(n.p,{placeholder:"Type your response...",value:k,onChange:e=>A(e.target.value),disabled:I,autoFocus:!0}),(0,t.jsx)(i.$,{type:"submit",disabled:I||!k.trim(),children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})})]})})})}):(0,t.jsx)(x.N,{children:(0,t.jsx)(h.m,{className:"flex items-center justify-center h-full",children:(0,t.jsxs)(l.Zp,{className:"w-full max-w-md shadow-2xl",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-2xl text-center",children:"Live AI Interview"}),(0,t.jsxs)(l.BT,{className:"text-center",children:["You are about to start a live interview for the role of **",y.title,"**."]})]}),(0,t.jsxs)("form",{onSubmit:D,children:[(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"candidateName",children:"Please enter your name"}),(0,t.jsx)(n.p,{id:"candidateName",placeholder:"e.g., Jane Doe",value:r,onChange:e=>w(e.target.value),required:!0})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"This is a simulated interview. Your responses will be used to generate a conversational flow."})]}),(0,t.jsx)(l.wL,{children:(0,t.jsx)(i.$,{type:"submit",className:"w-full",disabled:I,children:I?(0,t.jsx)(m.A,{className:"animate-spin"}):"Start Interview"})})]})]})})})}},91088:(e,s,r)=>{Promise.resolve().then(r.bind(r,7853))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(91088)),_N_E=e.O()}]);