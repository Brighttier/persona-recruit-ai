(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7682],{44105:(e,s,l)=>{Promise.resolve().then(l.bind(l,57740))},57740:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>C});var a=l(95155),t=l(12115),i=l(18477),n=l(13563),r=l(66695),d=l(30285),c=l(26126),x=l(62523),h=l(59409),o=l(85127),j=l(37648),m=l(17607),u=l(98328),v=l(8376),p=l(24371),w=l(50286),f=l(67554),N=l(68718),g=l(75074),b=l(15300),A=l(94063),y=l(40283),S=l(14690);function C(){let{loading:e}=(0,y.A)(),[s,l]=(0,t.useState)([]),[C,E]=(0,t.useState)([]),[R,k]=(0,t.useState)(null),[Z,z]=(0,t.useState)(!0),[B,I]=(0,t.useState)(""),[$,L]=(0,t.useState)("all"),[W,H]=(0,t.useState)("all"),[P,_]=(0,t.useState)(new Set),T=(0,S.J)(),D=(0,t.useCallback)(async()=>{if(!e){z(!0);try{let e=await T("/api/recruiter/applications");l(e.data.applications||[]),k(e.data.stats||null)}catch(e){console.error("Error fetching applications:",e)}finally{z(!1)}}},[T,e]);(0,t.useEffect)(()=>{D()},[D]),(0,t.useEffect)(()=>{let e=s;B&&(e=e.filter(e=>e.candidateName.toLowerCase().includes(B.toLowerCase())||e.candidateEmail.toLowerCase().includes(B.toLowerCase())||e.jobTitle.toLowerCase().includes(B.toLowerCase()))),"all"!==$&&(e=e.filter(e=>e.status===$)),"all"!==W&&(e=e.filter(e=>e.jobId===W)),E(e)},[s,B,$,W]);let J=e=>{switch(e){case"pending":return(0,a.jsxs)(c.E,{variant:"secondary",children:[(0,a.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"Pending"]});case"reviewed":return(0,a.jsxs)(c.E,{variant:"outline",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Reviewed"]});case"interviewed":return(0,a.jsxs)(c.E,{className:"bg-blue-100 text-blue-800",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Interviewed"]});case"hired":return(0,a.jsxs)(c.E,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Hired"]});case"rejected":return(0,a.jsxs)(c.E,{variant:"destructive",children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return(0,a.jsx)(c.E,{variant:"outline",children:e})}},O=e=>e>=90?(0,a.jsxs)(c.E,{className:"bg-green-100 text-green-800",children:[e,"%"]}):e>=80?(0,a.jsxs)(c.E,{className:"bg-yellow-100 text-yellow-800",children:[e,"%"]}):e>=70?(0,a.jsxs)(c.E,{className:"bg-orange-100 text-orange-800",children:[e,"%"]}):(0,a.jsxs)(c.E,{variant:"destructive",children:[e,"%"]}),q=async(e,s)=>{try{l(l=>l.map(l=>l.id===e?{...l,status:s,lastActivity:new Date().toISOString()}:l))}catch(e){console.error("Error updating application status:",e)}},M=e=>{let s=new Set(P);s.has(e)?s.delete(e):s.add(e),_(s)},V=async e=>{try{console.log("Bulk action: ".concat(e," on applications:"),Array.from(P)),"reject"===e&&l(e=>e.map(e=>P.has(e.id)?{...e,status:"rejected",lastActivity:new Date().toISOString()}:e)),_(new Set)}catch(e){console.error("Error performing bulk action:",e)}},U=Array.from(new Set(s.map(e=>({id:e.jobId,title:e.jobTitle}))));return(0,a.jsx)(i.N,{children:(0,a.jsxs)(n.m,{className:"py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[(0,a.jsx)(w.A,{className:"mr-3 h-8 w-8 text-primary"}),"Application Management"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Review and manage applications for your job postings"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-8",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==R?void 0:R.total)||0})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Pending"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==R?void 0:R.pending)||0})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Reviewed"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==R?void 0:R.reviewed)||0})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Interviewed"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==R?void 0:R.interviewed)||0})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Hired"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==R?void 0:R.hired)||0})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Rejected"}),(0,a.jsx)(p.A,{className:"h-4 w-4 text-red-600"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==R?void 0:R.rejected)||0})})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{children:"Application Pipeline"}),(0,a.jsx)(r.BT,{children:"Manage candidates for your job postings"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:D,children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(x.p,{placeholder:"Search candidates or jobs...",value:B,onChange:e=>I(e.target.value),className:"w-64"})]}),(0,a.jsxs)(h.l6,{value:$,onValueChange:L,children:[(0,a.jsx)(h.bq,{className:"w-40",children:(0,a.jsx)(h.yv,{placeholder:"All Statuses"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"all",children:"All Statuses"}),(0,a.jsx)(h.eb,{value:"pending",children:"Pending"}),(0,a.jsx)(h.eb,{value:"reviewed",children:"Reviewed"}),(0,a.jsx)(h.eb,{value:"interviewed",children:"Interviewed"}),(0,a.jsx)(h.eb,{value:"hired",children:"Hired"}),(0,a.jsx)(h.eb,{value:"rejected",children:"Rejected"})]})]}),(0,a.jsxs)(h.l6,{value:W,onValueChange:H,children:[(0,a.jsx)(h.bq,{className:"w-48",children:(0,a.jsx)(h.yv,{placeholder:"All Jobs"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"all",children:"All Jobs"}),U.map(e=>(0,a.jsx)(h.eb,{value:e.id,children:e.title},e.id))]})]})]}),P.size>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-3 bg-muted rounded-md",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:[P.size," application(s) selected"]}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>V("review"),children:"Mark as Reviewed"}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>V("reject"),children:"Reject Selected"}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>_(new Set),children:"Clear Selection"})]}),(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{className:"w-12",children:(0,a.jsx)("input",{type:"checkbox",checked:P.size===C.length&&C.length>0,onChange:()=>{P.size===C.length?_(new Set):_(new Set(C.map(e=>e.id)))},className:"rounded"})}),(0,a.jsx)(o.nd,{children:"Candidate"}),(0,a.jsx)(o.nd,{children:"Job"}),(0,a.jsx)(o.nd,{children:"AI Score"}),(0,a.jsx)(o.nd,{children:"Status"}),(0,a.jsx)(o.nd,{children:"Applied"}),(0,a.jsx)(o.nd,{children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:C.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{children:(0,a.jsx)("input",{type:"checkbox",checked:P.has(e.id),onChange:()=>M(e.id),className:"rounded"})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.candidateName}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.candidateEmail}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.experience," â€¢ ",e.location]})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.jobTitle}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.department})]})}),(0,a.jsx)(o.nA,{children:O(e.aiScore)}),(0,a.jsx)(o.nA,{children:J(e.status)}),(0,a.jsx)(o.nA,{children:new Date(e.appliedAt).toLocaleDateString()}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),e.resumeUrl&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(b.A,{className:"h-4 w-4"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(A.A,{className:"h-4 w-4"})}),(0,a.jsxs)(h.l6,{onValueChange:s=>q(e.id,s),children:[(0,a.jsx)(h.bq,{className:"w-32 h-8",children:(0,a.jsx)(h.yv,{placeholder:"Update Status"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"pending",children:"Pending"}),(0,a.jsx)(h.eb,{value:"reviewed",children:"Reviewed"}),(0,a.jsx)(h.eb,{value:"interviewed",children:"Interviewed"}),(0,a.jsx)(h.eb,{value:"hired",children:"Hired"}),(0,a.jsx)(h.eb,{value:"rejected",children:"Rejected"})]})]})]})})]},e.id))})]})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(44105)),_N_E=e.O()}]);