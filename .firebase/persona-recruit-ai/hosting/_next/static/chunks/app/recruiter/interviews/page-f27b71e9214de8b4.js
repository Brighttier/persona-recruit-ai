(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{42775:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>B});var t=l(95155),a=l(12115),i=l(18477),n=l(13563),d=l(66695),c=l(30285),r=l(26126),x=l(62523),h=l(59409),m=l(85127),o=l(17313),j=l(88539),u=l(54165),v=l(37648),p=l(8376),N=l(24371),f=l(11133),g=l(45481),w=l(31554),b=l(83662),A=l(98328),y=l(30462),C=l(18046),S=l(67554),k=l(75074),T=l(17607),E=l(18763),Z=l(94063),I=l(91721),R=l(6874),L=l.n(R);function B(){let[e,s]=(0,a.useState)([]),[l,R]=(0,a.useState)([]),[B,_]=(0,a.useState)(null),[z,$]=(0,a.useState)(!0),[D,P]=(0,a.useState)(""),[W,F]=(0,a.useState)("all"),[J,U]=(0,a.useState)("all"),[V,q]=(0,a.useState)(null),[M,O]=(0,a.useState)(!1),[X,G]=(0,a.useState)(""),[H,K]=(0,a.useState)(0);(0,a.useEffect)(()=>{Q()},[]),(0,a.useEffect)(()=>{Y()},[e,D,W,J]);let Q=async()=>{try{let e=await fetch("/api/recruiter/interviews");if(e.ok){let l=await e.json();s(l.data.interviews||[]),_(l.data.stats||null)}}catch(e){console.error("Error fetching interviews:",e),s([{id:"1",candidateName:"John Smith",candidateEmail:"john.smith@email.com",jobTitle:"Senior Frontend Developer",jobId:"job_1",interviewerName:"Sarah Johnson",interviewerEmail:"sarah@techcorp.com",scheduledAt:"2024-06-25T14:00:00Z",duration:60,type:"video",meetingLink:"https://meet.google.com/abc-defg-hij",status:"scheduled",createdAt:"2024-06-20T10:30:00Z"},{id:"2",candidateName:"Sarah Johnson",candidateEmail:"sarah.j@email.com",jobTitle:"Product Manager",jobId:"job_2",interviewerName:"Mike Chen",interviewerEmail:"mike@techcorp.com",scheduledAt:"2024-06-24T16:00:00Z",duration:45,type:"video",meetingLink:"https://zoom.us/j/123456789",status:"completed",feedback:"Strong candidate with excellent product sense. Good communication skills and relevant experience.",rating:4,notes:"Follow up on timeline availability",createdAt:"2024-06-19T14:15:00Z"},{id:"3",candidateName:"Mike Chen",candidateEmail:"mike.chen@email.com",jobTitle:"Data Scientist",jobId:"job_3",interviewerName:"Lisa Park",interviewerEmail:"lisa@techcorp.com",scheduledAt:"2024-06-26T10:00:00Z",duration:90,type:"in-person",location:"TechCorp Office, Conference Room A",status:"scheduled",createdAt:"2024-06-18T16:20:00Z"}]),_({total:3,scheduled:2,completed:1,cancelled:0,noShow:0,avgRating:4,completionRate:100})}finally{$(!1)}},Y=()=>{let s=e;D&&(s=s.filter(e=>e.candidateName.toLowerCase().includes(D.toLowerCase())||e.jobTitle.toLowerCase().includes(D.toLowerCase())||e.interviewerName.toLowerCase().includes(D.toLowerCase()))),"all"!==W&&(s=s.filter(e=>e.status===W)),"all"!==J&&(s=s.filter(e=>e.type===J)),R(s)},ee=e=>{switch(e){case"scheduled":return(0,t.jsxs)(r.E,{className:"bg-blue-100 text-blue-800",children:[(0,t.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Scheduled"]});case"completed":return(0,t.jsxs)(r.E,{className:"bg-green-100 text-green-800",children:[(0,t.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Completed"]});case"cancelled":return(0,t.jsxs)(r.E,{variant:"destructive",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-1"}),"Cancelled"]});case"no-show":return(0,t.jsxs)(r.E,{className:"bg-orange-100 text-orange-800",children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-1"}),"No Show"]});default:return(0,t.jsx)(r.E,{variant:"outline",children:e})}},es=e=>{switch(e){case"video":return(0,t.jsx)(g.A,{className:"h-4 w-4 text-blue-600"});case"phone":return(0,t.jsx)(w.A,{className:"h-4 w-4 text-green-600"});case"in-person":return(0,t.jsx)(b.A,{className:"h-4 w-4 text-purple-600"});default:return(0,t.jsx)(A.A,{className:"h-4 w-4"})}},el=e=>Array.from({length:5},(s,l)=>(0,t.jsx)(y.A,{className:"h-4 w-4 ".concat(l<e?"text-yellow-400 fill-current":"text-gray-300")},l)),et=async(e,l)=>{try{s(s=>s.map(s=>s.id===e?{...s,status:l}:s))}catch(e){console.error("Error updating interview status:",e)}},ea=async()=>{if(V)try{s(e=>e.map(e=>e.id===V.id?{...e,feedback:X,rating:H,status:"completed"}:e)),O(!1),G(""),K(0),q(null)}catch(e){console.error("Error submitting feedback:",e)}},ei=e=>new Date(e)>new Date,en=e=>{let s=new Date(e);return{date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}};return(0,t.jsx)(i.N,{children:(0,t.jsxs)(n.m,{className:"py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[(0,t.jsx)(A.A,{className:"mr-3 h-8 w-8 text-primary"}),"Interview Management"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Schedule, manage, and track all your candidate interviews"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Total Interviews"}),(0,t.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==B?void 0:B.total)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Scheduled"}),(0,t.jsx)(v.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==B?void 0:B.scheduled)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Upcoming interviews"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Completion Rate"}),(0,t.jsx)(p.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(null==B?void 0:B.completionRate)||0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Successful interviews"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Avg. Rating"}),(0,t.jsx)(y.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[(null==B?void 0:B.avgRating)||0,"/5"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Interview quality"})]})]})]}),(0,t.jsxs)(o.tU,{defaultValue:"all",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(o.j7,{children:[(0,t.jsxs)(o.Xi,{value:"all",children:["All Interviews (",(null==B?void 0:B.total)||0,")"]}),(0,t.jsxs)(o.Xi,{value:"upcoming",children:["Upcoming (",(null==B?void 0:B.scheduled)||0,")"]}),(0,t.jsxs)(o.Xi,{value:"completed",children:["Completed (",(null==B?void 0:B.completed)||0,")"]})]}),(0,t.jsx)(L(),{href:"/recruiter/schedule-interview",children:(0,t.jsxs)(c.$,{children:[(0,t.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Schedule Interview"]})})]}),(0,t.jsx)(o.av,{value:"all",children:(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.ZB,{children:"All Interviews"}),(0,t.jsx)(d.BT,{children:"Complete history of candidate interviews"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(c.$,{variant:"outline",size:"sm",onClick:Q,children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(x.p,{placeholder:"Search interviews...",value:D,onChange:e=>P(e.target.value),className:"w-64"})]}),(0,t.jsxs)(h.l6,{value:W,onValueChange:F,children:[(0,t.jsx)(h.bq,{className:"w-40",children:(0,t.jsx)(h.yv,{placeholder:"All Status"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"all",children:"All Status"}),(0,t.jsx)(h.eb,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(h.eb,{value:"completed",children:"Completed"}),(0,t.jsx)(h.eb,{value:"cancelled",children:"Cancelled"}),(0,t.jsx)(h.eb,{value:"no-show",children:"No Show"})]})]}),(0,t.jsxs)(h.l6,{value:J,onValueChange:U,children:[(0,t.jsx)(h.bq,{className:"w-40",children:(0,t.jsx)(h.yv,{placeholder:"All Types"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"all",children:"All Types"}),(0,t.jsx)(h.eb,{value:"video",children:"Video"}),(0,t.jsx)(h.eb,{value:"phone",children:"Phone"}),(0,t.jsx)(h.eb,{value:"in-person",children:"In-Person"})]})]})]}),(0,t.jsxs)(m.XI,{children:[(0,t.jsx)(m.A0,{children:(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nd,{children:"Candidate"}),(0,t.jsx)(m.nd,{children:"Job"}),(0,t.jsx)(m.nd,{children:"Interviewer"}),(0,t.jsx)(m.nd,{children:"Date & Time"}),(0,t.jsx)(m.nd,{children:"Type"}),(0,t.jsx)(m.nd,{children:"Status"}),(0,t.jsx)(m.nd,{children:"Rating"}),(0,t.jsx)(m.nd,{children:"Actions"})]})}),(0,t.jsx)(m.BF,{children:l.map(e=>{let{date:s,time:l}=en(e.scheduledAt);return(0,t.jsxs)(m.Hj,{children:[(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.candidateName}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.candidateEmail})]})}),(0,t.jsx)(m.nA,{children:(0,t.jsx)("div",{className:"font-medium",children:e.jobTitle})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.interviewerName}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.interviewerEmail})]})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:s}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:l})]})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[es(e.type),(0,t.jsx)("span",{className:"capitalize",children:e.type})]})}),(0,t.jsx)(m.nA,{children:ee(e.status)}),(0,t.jsx)(m.nA,{children:e.rating?(0,t.jsx)("div",{className:"flex items-center gap-1",children:el(e.rating)}):(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"-"})}),(0,t.jsx)(m.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(T.A,{className:"h-4 w-4"})}),"scheduled"===e.status&&ei(e.scheduledAt)&&(0,t.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(E.A,{className:"h-4 w-4"})}),"scheduled"===e.status&&!ei(e.scheduledAt)&&(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{q(e),O(!0)},children:(0,t.jsx)(Z.A,{className:"h-4 w-4"})}),(0,t.jsxs)(h.l6,{onValueChange:s=>et(e.id,s),children:[(0,t.jsx)(h.bq,{className:"w-32 h-8",children:(0,t.jsx)(h.yv,{placeholder:"Update"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(h.eb,{value:"completed",children:"Completed"}),(0,t.jsx)(h.eb,{value:"cancelled",children:"Cancelled"}),(0,t.jsx)(h.eb,{value:"no-show",children:"No Show"})]})]})]})})]},e.id)})})]})]})]})}),(0,t.jsx)(o.av,{value:"upcoming",children:(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Upcoming Interviews"}),(0,t.jsx)(d.BT,{children:"Interviews scheduled for the coming days"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:l.filter(e=>"scheduled"===e.status&&ei(e.scheduledAt)).map(e=>{let{date:s,time:l}=en(e.scheduledAt);return(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,t.jsx)(I.A,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.candidateName}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.jobTitle}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["with ",e.interviewerName]})]})]})}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-medium",children:s}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:l}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[es(e.type),(0,t.jsx)("span",{className:"text-xs capitalize",children:e.type})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[e.meetingLink&&(0,t.jsx)(c.$,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:e.meetingLink,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Join"]})}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]},e.id)})})})]})}),(0,t.jsx)(o.av,{value:"completed",children:(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Completed Interviews"}),(0,t.jsx)(d.BT,{children:"Interviews with feedback and ratings"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:l.filter(e=>"completed"===e.status).map(e=>{let{date:s,time:l}=en(e.scheduledAt);return(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.candidateName}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.jobTitle}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s," at ",l]})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:e.rating&&el(e.rating)})]}),e.feedback&&(0,t.jsx)("div",{className:"bg-muted/50 p-3 rounded-md",children:(0,t.jsx)("p",{className:"text-sm",children:e.feedback})}),e.notes&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Notes: ",e.notes]})})]},e.id)})})})]})})]}),(0,t.jsx)(u.lG,{open:M,onOpenChange:O,children:(0,t.jsxs)(u.Cf,{children:[(0,t.jsxs)(u.c7,{children:[(0,t.jsx)(u.L3,{children:"Interview Feedback"}),(0,t.jsxs)(u.rr,{children:["Provide feedback for ",null==V?void 0:V.candidateName,"'s interview"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Rating"}),(0,t.jsx)("div",{className:"flex items-center gap-1 mt-1",children:Array.from({length:5},(e,s)=>(0,t.jsx)("button",{onClick:()=>K(s+1),className:"focus:outline-none",children:(0,t.jsx)(y.A,{className:"h-6 w-6 ".concat(s<H?"text-yellow-400 fill-current":"text-gray-300")})},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Feedback"}),(0,t.jsx)(j.T,{value:X,onChange:e=>G(e.target.value),placeholder:"Provide detailed feedback about the candidate's performance...",rows:4,className:"mt-1"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(c.$,{onClick:ea,children:"Submit Feedback"})]})]})]})})]})})}},77648:(e,s,l)=>{Promise.resolve().then(l.bind(l,42775))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(77648)),_N_E=e.O()}]);