(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9531],{71092:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>D});var l=i(95155),a=i(12115),r=i(62177),n=i(90221),t=i(71153),c=i(6874),d=i.n(c),o=i(30285),m=i(66695),x=i(62523),h=i(88539),j=i(17759),u=i(26126),p=i(13563),v=i(87481),f=i(34477);let N=(0,f.createServerReference)("402bb2a78a8907dc76e9ff1da5f2ef6fe2f4e4ffa5",f.callServer,void 0,f.findSourceMapURL,"generateVideoInterviewAnalysisReport");var b=i(8376),y=i(45554),w=i(37607),g=i(50172),R=i(17607),A=i(5263),B=i(17313);let S=t.Ik({videoFile:t.Ie(e=>e instanceof File,"Video file is required."),jobDescription:t.Yj().min(50,"Job description must be at least 50 characters."),candidateResume:t.Yj().min(50,"Candidate resume summary must be at least 50 characters."),behavioralQuestions:t.Yj().min(20,"At least one behavioral question is required.").transform(e=>e.split("\n").filter(e=>""!==e.trim()))});function D(){let[e,s]=(0,a.useState)(!1),[i,t]=(0,a.useState)(null),[c,f]=(0,a.useState)(null),D=(0,a.useRef)(null),{toast:I}=(0,v.dj)(),V=(0,r.mN)({resolver:(0,n.u)(S),defaultValues:{jobDescription:"",candidateResume:"",behavioralQuestions:""}}),F=e=>{e&&(e.type.startsWith("video/")?(f(e.name),V.setValue("videoFile",e),e.size>0x6400000&&(I({variant:"destructive",title:"File Too Large",description:"Video file should be under 100MB."}),V.setValue("videoFile",void 0),f(null))):(I({variant:"destructive",title:"Invalid File Type",description:"Please upload a valid video file."}),V.setValue("videoFile",void 0),f(null)))},Z=e=>new Promise((s,i)=>{let l=new FileReader;l.onload=()=>s(l.result),l.onerror=i,l.readAsDataURL(e)});async function C(e){s(!0),t(null);try{let s={videoDataUri:await Z(e.videoFile),jobDescription:e.jobDescription,candidateResume:e.candidateResume,behavioralQuestions:e.behavioralQuestions},i=await N(s);t(i),I({title:"Analysis Complete!",description:"Video interview report generated successfully.",action:(0,l.jsx)(b.A,{className:"text-green-500"})})}catch(e){console.error("Error generating interview analysis:",e),I({variant:"destructive",title:"Analysis Failed",description:"Could not generate the report. Please check inputs or try again."})}finally{s(!1)}}return(0,l.jsxs)(p.m,{children:[(0,l.jsxs)(m.Zp,{className:"max-w-4xl mx-auto shadow-xl",children:[(0,l.jsxs)(m.aR,{children:[(0,l.jsxs)(m.ZB,{className:"text-3xl font-headline flex items-center",children:[(0,l.jsx)(y.A,{className:"mr-3 h-8 w-8 text-primary"})," AI Video Interview Analysis"]}),(0,l.jsx)(m.BT,{children:"Upload a recorded video interview and provide context. Our AI will generate an enhanced report. This is a demo using Genkit flows. Ensure your video is of reasonable length for processing."})]}),(0,l.jsx)(j.lV,{...V,children:(0,l.jsxs)("form",{onSubmit:V.handleSubmit(C),children:[(0,l.jsxs)(m.Wu,{className:"space-y-6",children:[(0,l.jsx)(j.zB,{control:V.control,name:"videoFile",render:e=>{let{field:s}=e;return(0,l.jsxs)(j.eI,{children:[(0,l.jsx)(j.lR,{children:"Interview Video File (MP4, MOV, WebM)"}),(0,l.jsx)(j.MJ,{children:(0,l.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=D.current)?void 0:e.click()},className:"w-full",children:[(0,l.jsx)(w.A,{className:"mr-2 h-4 w-4"}),c?"Uploaded: ".concat(c):"Upload Video Interview"]})}),(0,l.jsx)(x.p,{id:"video-upload",type:"file",accept:"video/mp4,video/quicktime,video/webm",className:"hidden",ref:D,onChange:e=>F(e.target.files?e.target.files[0]:null)}),(0,l.jsx)(j.Rr,{children:"Max file size: 100MB. Shorter videos process faster."}),(0,l.jsx)(j.C5,{})]})}}),(0,l.jsx)(j.zB,{control:V.control,name:"jobDescription",render:e=>{let{field:s}=e;return(0,l.jsxs)(j.eI,{children:[(0,l.jsx)(j.lR,{children:"Job Description"}),(0,l.jsx)(j.MJ,{children:(0,l.jsx)(h.T,{placeholder:"Paste the full job description here...",className:"min-h-[150px]",...s})}),(0,l.jsx)(j.C5,{})]})}}),(0,l.jsx)(j.zB,{control:V.control,name:"candidateResume",render:e=>{let{field:s}=e;return(0,l.jsxs)(j.eI,{children:[(0,l.jsx)(j.lR,{children:"Candidate Resume / Profile Summary"}),(0,l.jsx)(j.MJ,{children:(0,l.jsx)(h.T,{placeholder:"Paste the candidate's resume text or a detailed summary here...",className:"min-h-[150px]",...s})}),(0,l.jsx)(j.C5,{})]})}}),(0,l.jsx)(j.zB,{control:V.control,name:"behavioralQuestions",render:e=>{let{field:s}=e;return(0,l.jsxs)(j.eI,{children:[(0,l.jsx)(j.lR,{children:"Behavioral Questions Asked"}),(0,l.jsx)(j.MJ,{children:(0,l.jsx)(h.T,{placeholder:"List each behavioral question asked on a new line...",className:"min-h-[100px]",...s})}),(0,l.jsx)(j.Rr,{children:"One question per line."}),(0,l.jsx)(j.C5,{})]})}})]}),(0,l.jsx)(m.wL,{className:"flex justify-end",children:(0,l.jsxs)(o.$,{type:"submit",disabled:e,size:"lg",children:[e?(0,l.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,l.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"Analyze Interview"]})})]})}),i&&(0,l.jsxs)("div",{className:"p-6 border-t",children:[(0,l.jsx)("h2",{className:"text-2xl font-headline font-semibold mb-4",children:"Analysis Report"}),(0,l.jsxs)(B.tU,{defaultValue:"behavioral",className:"w-full",children:[(0,l.jsxs)(B.j7,{className:"grid w-full grid-cols-4",children:[" ",(0,l.jsx)(B.Xi,{value:"behavioral",children:"Behavioral"}),(0,l.jsx)(B.Xi,{value:"transcript",children:"Highlights"}),(0,l.jsx)(B.Xi,{value:"suitability",children:"Suitability"}),(0,l.jsx)(B.Xi,{value:"competencies",children:"Competencies"})]}),(0,l.jsx)(B.av,{value:"behavioral",children:(0,l.jsxs)(m.Zp,{className:"mt-2",children:[(0,l.jsx)(m.aR,{children:(0,l.jsx)(m.ZB,{children:"Behavioral Insights"})}),(0,l.jsx)(m.Wu,{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{children:i.behavioralAnalysis})})]})}),(0,l.jsx)(B.av,{value:"transcript",children:(0,l.jsxs)(m.Zp,{className:"mt-2",children:[(0,l.jsx)(m.aR,{children:(0,l.jsx)(m.ZB,{children:"Key Transcript Moments"})}),(0,l.jsx)(m.Wu,{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{children:i.audioTranscriptHighlights})})]})}),(0,l.jsx)(B.av,{value:"suitability",children:(0,l.jsxs)(m.Zp,{className:"mt-2",children:[(0,l.jsx)(m.aR,{children:(0,l.jsx)(m.ZB,{children:"Suitability Assessment"})}),(0,l.jsxs)(m.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Overall Recommendation:"}),(0,l.jsx)("p",{className:"text-primary font-medium",children:i.suitabilityAssessment.overallRecommendation})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Key Strengths:"}),(0,l.jsx)("ul",{className:"list-disc pl-5 text-sm",children:i.suitabilityAssessment.keyStrengths.map((e,s)=>(0,l.jsx)("li",{children:e},"strength-".concat(s)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Areas for Development:"}),(0,l.jsx)("ul",{className:"list-disc pl-5 text-sm",children:i.suitabilityAssessment.areasForDevelopment.map((e,s)=>(0,l.jsx)("li",{children:e},"area-".concat(s)))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Detailed Justification:"}),(0,l.jsx)("p",{className:"text-sm",children:i.suitabilityAssessment.detailedJustification})]})]})]})}),(0,l.jsx)(B.av,{value:"competencies",children:(0,l.jsxs)(m.Zp,{className:"mt-2",children:[(0,l.jsx)(m.aR,{children:(0,l.jsx)(m.ZB,{children:"Competency Scores"})}),(0,l.jsx)(m.Wu,{className:"space-y-3",children:i.competencyScores.map((e,s)=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h4",{className:"font-semibold",children:e.name}),(0,l.jsxs)(u.E,{children:[e.score,"/5"]})]}),e.justification&&(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.justification})]},"comp-".concat(s)))})]})})]})]})]}),(0,l.jsxs)(m.Zp,{className:"mt-8",children:[(0,l.jsxs)(m.aR,{children:[(0,l.jsxs)(m.ZB,{className:"flex items-center",children:[(0,l.jsx)(A.A,{className:"mr-2 h-6 w-6 text-primary"}),"Recent Interview Analyses"]}),(0,l.jsx)(m.BT,{children:"View detailed AI-powered interview analysis reports"})]}),(0,l.jsx)(m.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)(m.Zp,{className:"border border-border hover:border-primary/50 transition-colors cursor-pointer",children:[(0,l.jsx)(m.aR,{className:"pb-2",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m.ZB,{className:"text-lg",children:"Sarah Johnson"}),(0,l.jsx)(m.BT,{children:"Senior Frontend Developer"})]}),(0,l.jsx)(u.E,{className:"bg-green-100 text-green-800",children:"87/100"})]})}),(0,l.jsxs)(m.Wu,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Recommendation:"}),(0,l.jsx)("span",{className:"font-medium text-green-600",children:"Strongly Recommended"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,l.jsx)("span",{children:"June 14, 2024"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Duration:"}),(0,l.jsx)("span",{children:"45 minutes"})]})]}),(0,l.jsx)(d(),{href:"/interviews/analysis/1",children:(0,l.jsxs)(o.$,{className:"w-full mt-4",variant:"outline",children:[(0,l.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"View Full Analysis"]})})]})]}),(0,l.jsxs)(m.Zp,{className:"border border-border hover:border-primary/50 transition-colors cursor-pointer",children:[(0,l.jsx)(m.aR,{className:"pb-2",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(m.ZB,{className:"text-lg",children:"Marcus Chen"}),(0,l.jsx)(m.BT,{children:"DevOps Engineer"})]}),(0,l.jsx)(u.E,{className:"bg-green-100 text-green-800",children:"91/100"})]})}),(0,l.jsxs)(m.Wu,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Recommendation:"}),(0,l.jsx)("span",{className:"font-medium text-green-600",children:"Strongly Recommended"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Date:"}),(0,l.jsx)("span",{children:"June 13, 2024"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Duration:"}),(0,l.jsx)("span",{children:"50 minutes"})]})]}),(0,l.jsx)(d(),{href:"/interviews/analysis/2",children:(0,l.jsxs)(o.$,{className:"w-full mt-4",variant:"outline",children:[(0,l.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"View Full Analysis"]})})]})]})]})})]})]})}},89820:(e,s,i)=>{Promise.resolve().then(i.bind(i,71092))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(89820)),_N_E=e.O()}]);