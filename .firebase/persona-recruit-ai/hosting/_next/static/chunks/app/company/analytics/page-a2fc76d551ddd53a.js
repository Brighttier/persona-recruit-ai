(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4077],{35334:(e,s,i)=>{Promise.resolve().then(i.bind(i,78619))},78619:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>H});var t=i(95155),a=i(12115),l=i(66695),n=i(30285),c=i(26126),r=i(17313),d=i(83540),o=i(93504),x=i(94754),h=i(96025),p=i(16238),m=i(94517),j=i(21374),v=i(84336),u=i(34e3),w=i(54811),f=i(50172),N=i(11133),g=i(80659),b=i(68718),y=i(57082),A=i(50286),R=i(98328),B=i(57804),Z=i(30462),S=i(37648),I=i(8376),k=i(24371),W=i(55365);let T={pending:"#f59e0b",under_review:"#3b82f6",interview_scheduled:"#8b5cf6",interviewed:"#6366f1",hired:"#10b981",rejected:"#ef4444"},_={pending:"Pending",under_review:"Under Review",interview_scheduled:"Interview Scheduled",interviewed:"Interviewed",hired:"Hired",rejected:"Rejected"};function H(){let[e,s]=(0,a.useState)(null),[i,H]=(0,a.useState)(!0),[M,O]=(0,a.useState)(null),[J,C]=(0,a.useState)("12m");(0,a.useEffect)(()=>{E()},[]);let E=async()=>{try{let e=await fetch("/api/company/analytics",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth-token"))}});if(e.ok){let i=await e.json();s(i.analytics)}else O("Failed to load analytics data")}catch(e){O("An error occurred while loading analytics")}finally{H(!1)}};if(i)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{children:"Loading analytics..."})]})});if(!e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)(W.Fc,{className:"max-w-md",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),(0,t.jsx)(W.TN,{children:M||"No analytics data available"})]})});let U=Object.entries(e.applicationsByStatus).map(e=>{let[s,i]=e;return{name:_[s]||s,value:i,color:T[s]||"#6b7280"}});return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-6 w-6"}),"Company Analytics"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Insights and metrics for your recruitment performance"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh"}),(0,t.jsxs)(n.$,{onClick:()=>{if(!e)return;let s=new Blob([JSON.stringify({...e,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),i=URL.createObjectURL(s),t=document.createElement("a");t.href=i,t.download="company-analytics-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i)},children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total Jobs"}),(0,t.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.overview.totalJobs}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.overview.activeJobs," active positions"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Applications"}),(0,t.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.overview.totalApplications}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.overview.pendingApplications," pending review"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Interviews"}),(0,t.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.overview.totalInterviews}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.overview.scheduledInterviews," scheduled"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Successful Hires"}),(0,t.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.overview.totalHires}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.overview.totalApplications>0?Math.round(e.overview.totalHires/e.overview.totalApplications*100):0,"% conversion rate"]})]})]})]}),(0,t.jsxs)(r.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(r.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(r.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(r.Xi,{value:"applications",children:"Applications"}),(0,t.jsx)(r.Xi,{value:"performance",children:"Performance"}),(0,t.jsx)(r.Xi,{value:"jobs",children:"Top Jobs"})]}),(0,t.jsxs)(r.av,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Application Trends"}),(0,t.jsx)(l.BT,{children:"Monthly application volume over the last 12 months"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(d.u,{width:"100%",height:300,children:(0,t.jsxs)(o.b,{data:e.monthlyApplications,children:[(0,t.jsx)(x.d,{strokeDasharray:"3 3"}),(0,t.jsx)(h.W,{dataKey:"month"}),(0,t.jsx)(p.h,{}),(0,t.jsx)(m.m,{}),(0,t.jsx)(j.N,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2})]})})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Application Status Distribution"}),(0,t.jsx)(l.BT,{children:"Breakdown of applications by current status"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(d.u,{width:"100%",height:300,children:(0,t.jsxs)(v.r,{children:[(0,t.jsx)(u.F,{data:U,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:i}=e;return"".concat(s," ").concat((100*i).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:U.map((e,s)=>(0,t.jsx)(w.f,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(m.m,{})]})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-5 w-5 text-yellow-500"}),"Average Match Score"]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[e.averageMatchScore,"%"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"AI-powered candidate matching"})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"h-5 w-5 text-blue-500"}),"Active Recruiters"]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:e.overview.recruiters}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Team members recruiting"})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 text-purple-500"}),"Response Rate"]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[e.overview.totalApplications>0?Math.round((e.overview.totalApplications-e.overview.pendingApplications)/e.overview.totalApplications*100):0,"%"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Applications reviewed"})]})]})]})]}),(0,t.jsx)(r.av,{value:"applications",className:"space-y-6",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Application Status Breakdown"}),(0,t.jsx)(l.BT,{children:"Detailed view of application statuses"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(e.applicationsByStatus).map(s=>{let[i,a]=s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["hired"===i&&(0,t.jsx)(I.A,{className:"h-4 w-4 text-green-500"}),"rejected"===i&&(0,t.jsx)(k.A,{className:"h-4 w-4 text-red-500"}),"pending"===i&&(0,t.jsx)(S.A,{className:"h-4 w-4 text-yellow-500"}),!["hired","rejected","pending"].includes(i)&&(0,t.jsx)(A.A,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{className:"font-medium",children:_[i]||i})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{variant:"secondary",children:a}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.overview.totalApplications>0?Math.round(a/e.overview.totalApplications*100):0,"%"]})]})]},i)})})})]})}),(0,t.jsx)(r.av,{value:"performance",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Conversion Funnel"}),(0,t.jsx)(l.BT,{children:"How candidates progress through your hiring process"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Total Applications"}),(0,t.jsx)("span",{className:"font-semibold",children:e.overview.totalApplications})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Under Review"}),(0,t.jsx)("span",{className:"font-semibold",children:e.applicationsByStatus.under_review||0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Interviews Scheduled"}),(0,t.jsx)("span",{className:"font-semibold",children:e.applicationsByStatus.interview_scheduled||0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Interviewed"}),(0,t.jsx)("span",{className:"font-semibold",children:e.applicationsByStatus.interviewed||0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t pt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Hired"}),(0,t.jsx)("span",{className:"font-bold text-green-600",children:e.overview.totalHires})]})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Key Metrics"}),(0,t.jsx)(l.BT,{children:"Important performance indicators"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Hire Rate"}),(0,t.jsxs)("span",{children:[e.overview.totalApplications>0?Math.round(e.overview.totalHires/e.overview.totalApplications*100):0,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(e.overview.totalApplications>0?e.overview.totalHires/e.overview.totalApplications*100:0,"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Interview Rate"}),(0,t.jsxs)("span",{children:[e.overview.totalApplications>0?Math.round(e.overview.totalInterviews/e.overview.totalApplications*100):0,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.overview.totalApplications>0?e.overview.totalInterviews/e.overview.totalApplications*100:0,"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Response Rate"}),(0,t.jsxs)("span",{children:[e.overview.totalApplications>0?Math.round((e.overview.totalApplications-e.overview.pendingApplications)/e.overview.totalApplications*100):0,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(e.overview.totalApplications>0?(e.overview.totalApplications-e.overview.pendingApplications)/e.overview.totalApplications*100:0,"%")}})})]})]})})]})]})}),(0,t.jsx)(r.av,{value:"jobs",className:"space-y-6",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Top Performing Jobs"}),(0,t.jsx)(l.BT,{children:"Jobs with the most applications"})]}),(0,t.jsx)(l.Wu,{children:e.topJobs.length>0?(0,t.jsx)("div",{className:"space-y-4",children:e.topJobs.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full font-semibold",children:s+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.department})]})]}),(0,t.jsxs)(c.E,{variant:"secondary",children:[e.applications," applications"]})]},e.jobId))}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No job data available yet"})]})})]})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(35334)),_N_E=e.O()}]);