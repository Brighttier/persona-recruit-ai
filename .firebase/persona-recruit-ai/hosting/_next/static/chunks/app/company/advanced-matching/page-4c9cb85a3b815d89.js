(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2471],{3985:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>W});var l=a(95155),i=a(12115),t=a(30285),r=a(66695),n=a(85057),c=a(88539),d=a(26126),m=a(91394),x=a(24944),o=a(59409),h=a(17313),u=a(76202),j=a(58127),p=a(30462),g=a(11133),N=a(24371),f=a(68718),v=a(45554),S=a(9572),b=a(83173),y=a(50172),w=a(81203),k=a(5263),R=a(80659),A=a(61840),q=a(98328),C=a(19637),M=a(13563),P=a(6874),J=a.n(P),I=a(54118),E=a(34477);let T=(0,E.createServerReference)("40141590db5954c017c7a60723da888da2fbe23be5",E.callServer,void 0,E.findSourceMapURL,"screenCandidateSkills");var B=a(10371),Z=a(87481);function W(){let[e,s]=(0,i.useState)(null),[a,P]=(0,i.useState)(""),[E,W]=(0,i.useState)(""),[F,$]=(0,i.useState)(""),[V,_]=(0,i.useState)(""),[z,D]=(0,i.useState)(!1),[L,O]=(0,i.useState)([]),[K,U]=(0,i.useState)([]),[X,G]=(0,i.useState)(""),[Q,H]=(0,i.useState)("ai-matching"),[Y,ee]=(0,i.useState)(20),[es,ea]=(0,i.useState)(5),[el,ei]=(0,i.useState)([]),[et,er]=(0,i.useState)([]);(0,i.useEffect)(()=>{ei((0,B.Px)()),er((0,B.Nb)())},[]);let en=async()=>{if(!e&&!a.trim())return void(0,Z.oR)({title:"Job Information Required",description:"Please select a job or enter a custom job description",variant:"destructive"});D(!0),O([]),G("");try{let s=e?"".concat(e.title,"\n\n").concat(e.description,"\n\nRequirements: ").concat(e.requirements.join(", "),"\n\nResponsibilities: ").concat(e.responsibilities.join(", ")):a,l=(null==e?void 0:e.companyName)||E||"Technology Company",i=await (0,I.q)({jobDescriptionText:s,companyInformation:l,semanticSearchResultCount:Y,finalResultCount:es});O(i.rerankedCandidates),G(i.searchSummary),(0,Z.oR)({title:"Matching Completed",description:"Found ".concat(i.rerankedCandidates.length," top matching candidates")})}catch(e){console.error("Matching error:",e),(0,Z.oR)({title:"Matching Failed",description:"An error occurred during advanced matching",variant:"destructive"})}finally{D(!1)}},ec=async()=>{if(!F.trim())return void(0,Z.oR)({title:"Required Skills Missing",description:"Please enter required skills for screening",variant:"destructive"});D(!0),U([]);try{let e=F.split(",").map(e=>e.trim()).filter(Boolean),s=V.split(",").map(e=>e.trim()).filter(Boolean),a=[];for(let l of et.slice(0,10)){let i=await T({candidateSkills:l.skills,requiredJobSkills:e,preferredJobSkills:s});a.push({candidateId:l.id,candidate:l,...i})}let l={"Strong Match":4,"Potential Match":3,"Review Recommended":2,"Missing Requirements":1};a.sort((e,s)=>(l[s.assessment]||0)-(l[e.assessment]||0)),U(a),(0,Z.oR)({title:"Screening Completed",description:"Screened ".concat(a.length," candidates")})}catch(e){console.error("Screening error:",e),(0,Z.oR)({title:"Screening Failed",description:"An error occurred during skill screening",variant:"destructive"})}finally{D(!1)}},ed=e=>{switch(e){case"Strong Match":return"text-green-600 bg-green-50 border-green-200";case"Potential Match":return"text-blue-600 bg-blue-50 border-blue-200";case"Review Recommended":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Missing Requirements":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},em=e=>{switch(e){case"Strong Match":return j.A;case"Potential Match":return p.A;case"Review Recommended":default:return g.A;case"Missing Requirements":return N.A}};return(0,l.jsx)(M.m,{className:"max-w-7xl mx-auto py-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Advanced Candidate Matching"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Sophisticated AI-powered matching and skill-based screening for precise candidate selection"})]}),(0,l.jsxs)(t.$,{variant:"outline",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Export Results"]})]}),(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"pt-6",children:(0,l.jsxs)(h.tU,{value:Q,onValueChange:e=>H(e),children:[(0,l.jsxs)(h.j7,{className:"grid w-full grid-cols-2",children:[(0,l.jsxs)(h.Xi,{value:"ai-matching",className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"h-4 w-4"}),"AI Semantic Matching"]}),(0,l.jsxs)(h.Xi,{value:"skill-screening",className:"flex items-center gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),"Skill-Based Screening"]})]}),(0,l.jsx)(h.av,{value:"ai-matching",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsxs)(r.ZB,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(b.A,{className:"h-5 w-5"}),"Job Configuration"]}),(0,l.jsx)(r.BT,{children:"Select an existing job or define custom requirements"})]}),(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(n.J,{children:"Select Existing Job"}),(0,l.jsxs)(o.l6,{value:(null==e?void 0:e.id)||"",onValueChange:e=>{let a=el.find(s=>s.id===e);s(a||null),a&&(P(""),W(a.companyName))},children:[(0,l.jsx)(o.bq,{children:(0,l.jsx)(o.yv,{placeholder:"Choose a job..."})}),(0,l.jsx)(o.gC,{children:el.map(e=>(0,l.jsxs)(o.eb,{value:e.id,children:[e.title," - ",e.companyName]},e.id))})]})]}),(0,l.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:"— OR —"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.J,{htmlFor:"customJob",children:"Custom Job Description"}),(0,l.jsx)(c.T,{id:"customJob",placeholder:"Paste or write a detailed job description...",value:a,onChange:e=>{P(e.target.value),e.target.value&&s(null)},rows:6})]}),!e&&(0,l.jsxs)("div",{children:[(0,l.jsx)(n.J,{htmlFor:"companyInfo",children:"Company Information"}),(0,l.jsx)(c.T,{id:"companyInfo",placeholder:"Company culture, values, industry...",value:E,onChange:e=>W(e.target.value),rows:3})]})]})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{className:"text-lg",children:"Matching Parameters"})}),(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.J,{children:["Semantic Search Results: ",Y]}),(0,l.jsx)(u.A,{value:[Y],onValueChange:e=>ee(e[0]),max:50,min:5,step:5,className:"mt-2"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Initial candidates to analyze"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(n.J,{children:["Final Results: ",es]}),(0,l.jsx)(u.A,{value:[es],onValueChange:e=>ea(e[0]),max:10,min:1,step:1,className:"mt-2"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Top matches to return"})]}),(0,l.jsxs)(t.$,{onClick:en,disabled:z,className:"w-full",children:[z?(0,l.jsx)(y.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,l.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Run Advanced Matching"]})]})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[e&&(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{className:"text-lg",children:e.title}),(0,l.jsxs)(r.BT,{children:[e.companyName," • ",e.location]})]}),(0,l.jsxs)(r.Wu,{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.requirements.slice(0,5).map(e=>(0,l.jsx)(d.E,{variant:"outline",className:"text-xs",children:e},e)),e.requirements.length>5&&(0,l.jsxs)(d.E,{variant:"outline",className:"text-xs",children:["+",e.requirements.length-5," more"]})]})]})]}),X&&(0,l.jsx)(r.Zp,{children:(0,l.jsx)(r.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,l.jsx)(k.A,{className:"h-5 w-5 text-primary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium mb-1",children:"Matching Analysis"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:X})]})]})})}),L.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,l.jsx)(R.A,{className:"h-5 w-5"}),"Advanced Matching Results (",L.length,")"]}),L.map((e,s)=>(0,l.jsx)(r.Zp,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:s+1}),(0,l.jsxs)(m.eu,{className:"h-12 w-12",children:[(0,l.jsx)(m.BK,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e.fullName)}),(0,l.jsx)(m.q5,{children:e.fullName.split(" ").map(e=>e[0]).join("")})]})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:e.fullName}),(0,l.jsx)("p",{className:"text-muted-foreground",children:e.currentTitle})]}),(0,l.jsxs)("div",{className:"text-right space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"LLM Match"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.k,{value:100*e.llmMatchScore,className:"w-16 h-2"}),(0,l.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*e.llmMatchScore),"%"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"Semantic"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.k,{value:100*(e.semanticMatchScore||0),className:"w-16 h-2"}),(0,l.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*(e.semanticMatchScore||0)),"%"]})]})]})]})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.profileSummaryExcerpt||"No profile summary available"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:(e.topSkills||[]).map(e=>(0,l.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e},e))}),(0,l.jsxs)("div",{className:"bg-muted/50 p-3 rounded-lg",children:[(0,l.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"AI Analysis:"}),(0,l.jsx)("p",{className:"text-sm",children:e.llmJustification})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(J(),{href:"/candidates/".concat(e.candidateId),children:(0,l.jsxs)(t.$,{size:"sm",children:[(0,l.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"View Profile"]})}),(0,l.jsxs)(t.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Schedule Interview"]})]})]})]})})},e.candidateId))]})]})]})}),(0,l.jsx)(h.av,{value:"skill-screening",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsxs)(r.ZB,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(S.A,{className:"h-5 w-5"}),"Skill Requirements"]}),(0,l.jsx)(r.BT,{children:"Define required and preferred skills for screening"})]}),(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(n.J,{htmlFor:"requiredSkills",children:"Required Skills"}),(0,l.jsx)(c.T,{id:"requiredSkills",placeholder:"React, TypeScript, Node.js, AWS...",value:F,onChange:e=>$(e.target.value),rows:3}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated list of mandatory skills"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.J,{htmlFor:"preferredSkills",children:"Preferred Skills (Optional)"}),(0,l.jsx)(c.T,{id:"preferredSkills",placeholder:"GraphQL, Docker, Kubernetes...",value:V,onChange:e=>_(e.target.value),rows:3}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Comma-separated list of nice-to-have skills"})]}),(0,l.jsxs)(t.$,{onClick:ec,disabled:z,className:"w-full",children:[z?(0,l.jsx)(y.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,l.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Run Skill Screening"]})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-2 space-y-6",children:K.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,l.jsx)(j.A,{className:"h-5 w-5"}),"Screening Results (",K.length,")"]}),K.map(e=>{let s=em(e.assessment);return(0,l.jsx)(r.Zp,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(r.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsxs)(m.eu,{className:"h-16 w-16",children:[(0,l.jsx)(m.BK,{src:e.candidate.profilePictureUrl}),(0,l.jsx)(m.q5,{children:e.candidate.fullName.split(" ").map(e=>e[0]).join("")})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:e.candidate.fullName}),(0,l.jsx)("p",{className:"text-muted-foreground",children:e.candidate.currentTitle})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg border ".concat(ed(e.assessment)),children:[(0,l.jsx)(s,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:e.assessment})]})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.summary}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.matchedRequiredSkills.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-xs font-medium text-green-600 mb-1",children:["Required Skills ✓ (",e.matchedRequiredSkills.length,")"]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.matchedRequiredSkills.map(e=>(0,l.jsx)(d.E,{variant:"secondary",className:"text-xs bg-green-50 text-green-700",children:e},e))})]}),e.missingRequiredSkills.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-xs font-medium text-red-600 mb-1",children:["Missing Required ✗ (",e.missingRequiredSkills.length,")"]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.missingRequiredSkills.map(e=>(0,l.jsx)(d.E,{variant:"outline",className:"text-xs text-red-600 border-red-200",children:e},e))})]}),e.matchedPreferredSkills.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-xs font-medium text-blue-600 mb-1",children:["Preferred Skills + (",e.matchedPreferredSkills.length,")"]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.matchedPreferredSkills.map(e=>(0,l.jsx)(d.E,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700",children:e},e))})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(J(),{href:"/candidates/".concat(e.candidate.id),children:(0,l.jsxs)(t.$,{size:"sm",children:[(0,l.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"View Profile"]})}),(0,l.jsxs)(t.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]})})},e.candidateId)})]})})]})})]})})})]})})}},94344:(e,s,a)=>{Promise.resolve().then(a.bind(a,3985))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(94344)),_N_E=e.O()}]);