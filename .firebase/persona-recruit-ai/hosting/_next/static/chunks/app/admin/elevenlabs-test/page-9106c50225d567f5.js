(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8393],{13335:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var n=a(95155),i=a(12115),r=a(66695),t=a(30285),l=a(62523),c=a(85057),d=a(88539),o=a(55365),h=a(26126),x=a(8376),m=a(24371),j=a(18271),v=a(50172),u=a(67554),p=a(31949),g=a(15599),f=a(60620),N=a(61840);function b(){var e,s;let[a,b]=(0,i.useState)(null),[y,A]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),[_,I]=(0,i.useState)(null),[C,k]=(0,i.useState)({name:"AI Interview Agent",prompt:"You are a professional AI interviewer conducting technical and behavioral interviews for job candidates. Ask relevant questions about their experience, skills, and fit for the role. Be conversational, friendly, and professional.",apiKey:"",voiceId:""}),L=async()=>{A(!0);try{let e=await fetch("/api/elevenlabs/check"),s=await e.json();b(s)}catch(e){b({success:!1,error:"Failed to check configuration",message:e instanceof Error?e.message:"Unknown error"})}finally{A(!1)}},S=async()=>{if(!C.apiKey)return void alert("Please enter your ElevenLabs API key");E(!0);try{let e=await fetch("/api/elevenlabs/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),s=await e.json();I(s)}catch(e){I({success:!1,error:e instanceof Error?e.message:"Unknown error"})}finally{E(!1)}},B=e=>{navigator.clipboard.writeText(e)};(0,i.useEffect)(()=>{L()},[]);let T=e=>e?(0,n.jsx)(x.A,{className:"h-5 w-5 text-green-500"}):(0,n.jsx)(m.A,{className:"h-5 w-5 text-red-500"}),V=(e,s)=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,n.jsx)("span",{className:"text-sm",children:s}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[T(e),(0,n.jsx)(h.E,{variant:e?"default":"destructive",children:e?"Configured":"Missing"})]})]});return(0,n.jsxs)("div",{className:"container mx-auto p-6 max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"ElevenLabs Integration Test"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Check and configure ElevenLabs Conversational AI for interviews"})]}),(0,n.jsxs)("div",{className:"grid gap-6",children:[(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,n.jsx)(j.A,{className:"h-5 w-5"}),"Configuration Status"]}),(0,n.jsx)(r.BT,{children:"Current ElevenLabs configuration and connectivity status"})]}),(0,n.jsxs)(r.Wu,{children:[(0,n.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,n.jsxs)(t.$,{onClick:L,disabled:y,variant:"outline",size:"sm",children:[y?(0,n.jsx)(v.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,n.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Check Configuration"]})}),a&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(o.Fc,{variant:a.success?"default":"destructive",children:(0,n.jsxs)(o.TN,{className:"flex items-center gap-2",children:[T(a.success),(0,n.jsx)("span",{children:a.message})]})}),a.config&&(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-3",children:"Configuration Items"}),(0,n.jsxs)("div",{className:"space-y-1",children:[V(a.config.hasApiKey,"API Key"),V(a.config.hasAgentId,"Agent ID"),V(a.config.hasVoiceId,"Voice ID"),a.config.agentStatus&&(0,n.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,n.jsx)("span",{className:"text-sm",children:"Agent Status"}),(0,n.jsx)(h.E,{variant:"valid"===a.config.agentStatus?"default":"invalid"===a.config.agentStatus?"destructive":"secondary",children:a.config.agentStatus})]})]})]}),a.user&&(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-3",children:"Account Information"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,n.jsx)("p",{className:"font-medium",children:a.user.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Subscription:"}),(0,n.jsx)("p",{className:"font-medium capitalize",children:a.user.subscription})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Characters Used:"}),(0,n.jsxs)("p",{className:"font-medium",children:[a.user.characterCount.toLocaleString()," / ",a.user.characterLimit.toLocaleString()]})]})]})]})]})]})]}),(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsx)(r.ZB,{children:"Environment Variables"}),(0,n.jsx)(r.BT,{children:"Required environment variables for ElevenLabs integration"})]}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(o.Fc,{children:[(0,n.jsx)(p.A,{className:"h-4 w-4"}),(0,n.jsxs)(o.TN,{children:["Add these environment variables to your ",(0,n.jsx)("code",{children:".env.local"})," file:"]})]}),(0,n.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 font-mono text-sm",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"ELEVENLABS_API_KEY=your_api_key_here"}),(0,n.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>B("ELEVENLABS_API_KEY=your_api_key_here"),children:(0,n.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"ELEVENLABS_AGENT_ID=your_agent_id_here"}),(0,n.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>B("ELEVENLABS_AGENT_ID=your_agent_id_here"),children:(0,n.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"ELEVENLABS_VOICE_ID=your_voice_id_here"}),(0,n.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>B("ELEVENLABS_VOICE_ID=your_voice_id_here"),children:(0,n.jsx)(g.A,{className:"h-4 w-4"})})]})]})})]})})]}),(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,n.jsx)(f.A,{className:"h-5 w-5"}),"Create Interview Agent"]}),(0,n.jsx)(r.BT,{children:"Create a new ElevenLabs Conversational AI agent for interviews"})]}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(c.J,{htmlFor:"agentName",children:"Agent Name"}),(0,n.jsx)(l.p,{id:"agentName",value:C.name,onChange:e=>k(s=>({...s,name:e.target.value})),placeholder:"AI Interview Agent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.J,{htmlFor:"apiKey",children:"ElevenLabs API Key"}),(0,n.jsx)(l.p,{id:"apiKey",type:"password",value:C.apiKey,onChange:e=>k(s=>({...s,apiKey:e.target.value})),placeholder:"Your ElevenLabs API key"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.J,{htmlFor:"voiceId",children:"Voice ID (optional)"}),(0,n.jsx)(l.p,{id:"voiceId",value:C.voiceId,onChange:e=>k(s=>({...s,voiceId:e.target.value})),placeholder:"Leave empty for default voice"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.J,{htmlFor:"prompt",children:"Agent Prompt"}),(0,n.jsx)(d.T,{id:"prompt",value:C.prompt,onChange:e=>k(s=>({...s,prompt:e.target.value})),rows:4,placeholder:"Define how the AI should conduct interviews..."})]}),(0,n.jsxs)(t.$,{onClick:S,disabled:w||!C.apiKey,className:"w-full",children:[w?(0,n.jsx)(v.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,n.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Create Agent"]}),_&&(0,n.jsx)(o.Fc,{variant:_.success?"default":"destructive",children:(0,n.jsx)(o.TN,{children:_.success?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{children:null==(e=_.instructions)?void 0:e.message}),_.agent&&(0,n.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded p-2 font-mono text-sm",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("span",{children:[null==(s=_.instructions)?void 0:s.envVar,"=",_.agent.id]}),(0,n.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>{var e,s;return B("".concat(null==(e=_.instructions)?void 0:e.envVar,"=").concat(null==(s=_.agent)?void 0:s.id))},children:(0,n.jsx)(g.A,{className:"h-4 w-4"})})]})})]}):(0,n.jsx)("span",{children:_.error})})})]})})]}),(0,n.jsxs)(r.Zp,{children:[(0,n.jsxs)(r.aR,{children:[(0,n.jsx)(r.ZB,{children:"Documentation & Resources"}),(0,n.jsx)(r.BT,{children:"Helpful links for setting up ElevenLabs integration"})]}),(0,n.jsx)(r.Wu,{children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("a",{href:"https://elevenlabs.io/docs/conversational-ai/overview",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[(0,n.jsx)(N.A,{className:"h-4 w-4"}),"ElevenLabs Conversational AI Documentation"]}),(0,n.jsxs)("a",{href:"https://elevenlabs.io/app/conversational-ai",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[(0,n.jsx)(N.A,{className:"h-4 w-4"}),"ElevenLabs Conversational AI Dashboard"]}),(0,n.jsxs)("a",{href:"https://elevenlabs.io/app/settings/api-keys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[(0,n.jsx)(N.A,{className:"h-4 w-4"}),"Get Your API Key"]})]})})]})]})]})}},52834:(e,s,a)=>{Promise.resolve().then(a.bind(a,13335))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(52834)),_N_E=e.O()}]);