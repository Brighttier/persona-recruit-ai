(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1093],{56406:(e,s,a)=>{Promise.resolve().then(a.bind(a,80387))},80387:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var l=a(95155),i=a(12115),n=a(66695),r=a(26126),t=a(30285),c=a(17313),d=a(59409),o=a(55365),h=a(43671),x=a(58437),m=a(26538),j=a(83389),u=a(21708),v=a(32857),p=a(67554),g=a(31949),b=a(40207),f=a(80659),N=a(45731),y=a(14690);function w(){var e,s,a,w,A;let[T,R]=(0,i.useState)(null),[k,C]=(0,i.useState)(!0),[_,S]=(0,i.useState)(null),[D,E]=(0,i.useState)({timeRange:{start:new Date(Date.now()-6048e5),end:new Date,preset:"7d"}}),[I,L]=(0,i.useState)("overview"),[O,B]=(0,i.useState)(!1),M=(0,y.J)(),X=(0,i.useCallback)(async()=>{try{C(!0),S(null);let e=new URLSearchParams({startDate:D.timeRange.start.toISOString(),endDate:D.timeRange.end.toISOString(),...D.operationTypes&&{operationTypes:D.operationTypes.join(",")},...D.companyIds&&{companyIds:D.companyIds.join(",")},...D.models&&{models:D.models.join(",")},...D.severityLevels&&{severityLevels:D.severityLevels.join(",")},...D.biasTypes&&{biasTypes:D.biasTypes.join(",")},...D.successOnly&&{successOnly:"true"},...D.withDemographics&&{withDemographics:"true"}}),s=await M("/api/ai-analytics/dashboard?".concat(e));R(s.data)}catch(e){S(e instanceof Error?e.message:"Unknown error occurred")}finally{C(!1)}},[D,M]);(0,i.useEffect)(()=>{X()},[X]),(0,i.useEffect)(()=>{if(O){let e=setInterval(X,3e4);return()=>clearInterval(e)}},[O,X]);let F=(e,s)=>{E(a=>({...a,[e]:s}))};return k&&!T?(0,l.jsx)("div",{className:"container mx-auto p-6",children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(p.A,{className:"h-5 w-5 animate-spin"}),(0,l.jsx)("span",{children:"Loading AI Analytics Dashboard..."})]})})}):_?(0,l.jsxs)("div",{className:"container mx-auto p-6",children:[(0,l.jsxs)(o.Fc,{variant:"destructive",children:[(0,l.jsx)(g.A,{className:"h-4 w-4"}),(0,l.jsx)(o.XL,{children:"Error Loading Dashboard"}),(0,l.jsx)(o.TN,{children:_})]}),(0,l.jsxs)(t.$,{onClick:X,className:"mt-4",children:[(0,l.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):(0,l.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"AI Analytics & Bias Monitoring"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Real-time performance monitoring and fairness analytics for AI operations"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(t.$,{variant:"outline",size:"sm",onClick:()=>B(!O),className:O?"bg-green-50 border-green-200":"",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-2 ".concat(O?"text-green-600":"")}),"Auto Refresh ",O?"On":"Off"]}),(0,l.jsxs)(t.$,{variant:"outline",size:"sm",onClick:X,disabled:k,children:[(0,l.jsx)(p.A,{className:"h-4 w-4 mr-2 ".concat(k?"animate-spin":"")}),"Refresh"]}),(0,l.jsx)(u.L,{filters:D})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsxs)(n.ZB,{className:"flex items-center",children:[(0,l.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"Filters & Time Range"]})}),(0,l.jsx)(n.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsx)(v.a,{timeRange:D.timeRange,onChange:e=>{E(s=>({...s,timeRange:e}))}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Operation Types"}),(0,l.jsxs)(d.l6,{value:(null==(e=D.operationTypes)?void 0:e.join(","))||"",onValueChange:e=>F("operationTypes",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Operations"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Operations"}),(0,l.jsx)(d.eb,{value:"resume_processing",children:"Resume Processing"}),(0,l.jsx)(d.eb,{value:"candidate_matching",children:"Candidate Matching"}),(0,l.jsx)(d.eb,{value:"job_generation",children:"Job Generation"}),(0,l.jsx)(d.eb,{value:"skill_extraction",children:"Skill Extraction"}),(0,l.jsx)(d.eb,{value:"interview_analysis",children:"Interview Analysis"}),(0,l.jsx)(d.eb,{value:"talent_search",children:"Talent Search"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Models"}),(0,l.jsxs)(d.l6,{value:(null==(s=D.models)?void 0:s.join(","))||"",onValueChange:e=>F("models",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Models"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Models"}),(0,l.jsx)(d.eb,{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),(0,l.jsx)(d.eb,{value:"gemini-pro",children:"Gemini Pro"}),(0,l.jsx)(d.eb,{value:"text-embedding-005",children:"Text Embedding 005"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Bias Types"}),(0,l.jsxs)(d.l6,{value:(null==(a=D.biasTypes)?void 0:a.join(","))||"",onValueChange:e=>F("biasTypes",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Bias Types"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Types"}),(0,l.jsx)(d.eb,{value:"gender_bias",children:"Gender Bias"}),(0,l.jsx)(d.eb,{value:"age_bias",children:"Age Bias"}),(0,l.jsx)(d.eb,{value:"racial_bias",children:"Racial Bias"}),(0,l.jsx)(d.eb,{value:"education_bias",children:"Education Bias"}),(0,l.jsx)(d.eb,{value:"location_bias",children:"Location Bias"})]})]})]})]})})]}),(null==T||null==(w=T.activeAlerts)?void 0:w.filter(e=>"critical"===e.severity).length)>0&&(0,l.jsxs)(o.Fc,{variant:"destructive",children:[(0,l.jsx)(g.A,{className:"h-4 w-4"}),(0,l.jsx)(o.XL,{children:"Critical Issues Detected"}),(0,l.jsxs)(o.TN,{children:[T.activeAlerts.filter(e=>"critical"===e.severity).length," critical issues require immediate attention. Check the Alerts tab for details."]})]}),(0,l.jsxs)(c.tU,{value:I,onValueChange:L,className:"space-y-4",children:[(0,l.jsxs)(c.j7,{className:"grid w-full grid-cols-4",children:[(0,l.jsxs)(c.Xi,{value:"overview",className:"flex items-center",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Performance"]}),(0,l.jsxs)(c.Xi,{value:"bias",className:"flex items-center",children:[(0,l.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Bias Monitoring"]}),(0,l.jsxs)(c.Xi,{value:"fairness",className:"flex items-center",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Fairness Metrics"]}),(0,l.jsxs)(c.Xi,{value:"alerts",className:"flex items-center",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Alerts",(null==T||null==(A=T.activeAlerts)?void 0:A.filter(e=>!e.acknowledged).length)>0&&(0,l.jsx)(r.E,{variant:"destructive",className:"ml-2 h-5 w-5 p-0 text-xs",children:T.activeAlerts.filter(e=>!e.acknowledged).length})]})]}),(0,l.jsx)(c.av,{value:"overview",className:"space-y-4",children:(0,l.jsx)(h.S,{data:T,loading:k,onRefresh:X})}),(0,l.jsx)(c.av,{value:"bias",className:"space-y-4",children:(0,l.jsx)(x.Q,{data:T,filters:D,loading:k,onRefresh:X})}),(0,l.jsx)(c.av,{value:"fairness",className:"space-y-4",children:(0,l.jsx)(m.T,{data:T,filters:D,loading:k,onRefresh:X})}),(0,l.jsx)(c.av,{value:"alerts",className:"space-y-4",children:(0,l.jsx)(j.a,{alerts:(null==T?void 0:T.activeAlerts)||[],loading:k,onRefresh:X})})]}),(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,l.jsxs)("div",{children:["Last updated: ",T?new Date().toLocaleString():"Never"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{children:["Auto-refresh: ",O?"Enabled (30s)":"Disabled"]}),(0,l.jsxs)("span",{children:["Time range: ",D.timeRange.preset||"Custom"]})]})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(56406)),_N_E=e.O()}]);