(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7080],{15426:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var l=a(95155),i=a(12115),n=a(66695),r=a(26126),t=a(30285),c=a(17313),d=a(59409),o=a(55365),h=a(43671),x=a(58437),m=a(26538),j=a(83389),u=a(21708),v=a(32857),p=a(67554),g=a(31949),b=a(40207),f=a(80659),N=a(45731);function y(){var e,s,a,y,w;let[A,T]=(0,i.useState)(null),[R,k]=(0,i.useState)(!0),[C,_]=(0,i.useState)(null),[S,E]=(0,i.useState)({timeRange:{start:new Date(Date.now()-6048e5),end:new Date,preset:"7d"}}),[D,I]=(0,i.useState)("overview"),[L,O]=(0,i.useState)(!1),B=async()=>{try{k(!0),_(null);let e=new URLSearchParams({startDate:S.timeRange.start.toISOString(),endDate:S.timeRange.end.toISOString(),...S.operationTypes&&{operationTypes:S.operationTypes.join(",")},...S.companyIds&&{companyIds:S.companyIds.join(",")},...S.models&&{models:S.models.join(",")},...S.severityLevels&&{severityLevels:S.severityLevels.join(",")},...S.biasTypes&&{biasTypes:S.biasTypes.join(",")},...S.successOnly&&{successOnly:"true"},...S.withDemographics&&{withDemographics:"true"}}),s=await fetch("/api/ai-analytics/dashboard?".concat(e));if(!s.ok)throw Error("Failed to fetch dashboard data: ".concat(s.status));let a=await s.json();if(a.success)T(a.data);else throw Error(a.error||"Failed to fetch dashboard data")}catch(e){_(e instanceof Error?e.message:"Unknown error occurred")}finally{k(!1)}};(0,i.useEffect)(()=>{B()},[S]),(0,i.useEffect)(()=>{if(L){let e=setInterval(B,3e4);return()=>clearInterval(e)}},[L,S]);let F=(e,s)=>{E(a=>({...a,[e]:s}))};return R&&!A?(0,l.jsx)("div",{className:"container mx-auto p-6",children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(p.A,{className:"h-5 w-5 animate-spin"}),(0,l.jsx)("span",{children:"Loading AI Analytics Dashboard..."})]})})}):C?(0,l.jsxs)("div",{className:"container mx-auto p-6",children:[(0,l.jsxs)(o.Fc,{variant:"destructive",children:[(0,l.jsx)(g.A,{className:"h-4 w-4"}),(0,l.jsx)(o.XL,{children:"Error Loading Dashboard"}),(0,l.jsx)(o.TN,{children:C})]}),(0,l.jsxs)(t.$,{onClick:B,className:"mt-4",children:[(0,l.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):(0,l.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"AI Analytics & Bias Monitoring"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Real-time performance monitoring and fairness analytics for AI operations"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(t.$,{variant:"outline",size:"sm",onClick:()=>O(!L),className:L?"bg-green-50 border-green-200":"",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-2 ".concat(L?"text-green-600":"")}),"Auto Refresh ",L?"On":"Off"]}),(0,l.jsxs)(t.$,{variant:"outline",size:"sm",onClick:B,disabled:R,children:[(0,l.jsx)(p.A,{className:"h-4 w-4 mr-2 ".concat(R?"animate-spin":"")}),"Refresh"]}),(0,l.jsx)(u.L,{filters:S})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsxs)(n.ZB,{className:"flex items-center",children:[(0,l.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"Filters & Time Range"]})}),(0,l.jsx)(n.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsx)(v.a,{timeRange:S.timeRange,onChange:e=>{E(s=>({...s,timeRange:e}))}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Operation Types"}),(0,l.jsxs)(d.l6,{value:(null==(e=S.operationTypes)?void 0:e.join(","))||"",onValueChange:e=>F("operationTypes",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Operations"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Operations"}),(0,l.jsx)(d.eb,{value:"resume_processing",children:"Resume Processing"}),(0,l.jsx)(d.eb,{value:"candidate_matching",children:"Candidate Matching"}),(0,l.jsx)(d.eb,{value:"job_generation",children:"Job Generation"}),(0,l.jsx)(d.eb,{value:"skill_extraction",children:"Skill Extraction"}),(0,l.jsx)(d.eb,{value:"interview_analysis",children:"Interview Analysis"}),(0,l.jsx)(d.eb,{value:"talent_search",children:"Talent Search"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Models"}),(0,l.jsxs)(d.l6,{value:(null==(s=S.models)?void 0:s.join(","))||"",onValueChange:e=>F("models",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Models"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Models"}),(0,l.jsx)(d.eb,{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),(0,l.jsx)(d.eb,{value:"gemini-pro",children:"Gemini Pro"}),(0,l.jsx)(d.eb,{value:"text-embedding-005",children:"Text Embedding 005"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Bias Types"}),(0,l.jsxs)(d.l6,{value:(null==(a=S.biasTypes)?void 0:a.join(","))||"",onValueChange:e=>F("biasTypes",e?e.split(","):void 0),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"All Bias Types"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"All Types"}),(0,l.jsx)(d.eb,{value:"gender_bias",children:"Gender Bias"}),(0,l.jsx)(d.eb,{value:"age_bias",children:"Age Bias"}),(0,l.jsx)(d.eb,{value:"racial_bias",children:"Racial Bias"}),(0,l.jsx)(d.eb,{value:"education_bias",children:"Education Bias"}),(0,l.jsx)(d.eb,{value:"location_bias",children:"Location Bias"})]})]})]})]})})]}),(null==A||null==(y=A.activeAlerts)?void 0:y.filter(e=>"critical"===e.severity).length)>0&&(0,l.jsxs)(o.Fc,{variant:"destructive",children:[(0,l.jsx)(g.A,{className:"h-4 w-4"}),(0,l.jsx)(o.XL,{children:"Critical Issues Detected"}),(0,l.jsxs)(o.TN,{children:[A.activeAlerts.filter(e=>"critical"===e.severity).length," critical issues require immediate attention. Check the Alerts tab for details."]})]}),(0,l.jsxs)(c.tU,{value:D,onValueChange:I,className:"space-y-4",children:[(0,l.jsxs)(c.j7,{className:"grid w-full grid-cols-4",children:[(0,l.jsxs)(c.Xi,{value:"overview",className:"flex items-center",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Performance"]}),(0,l.jsxs)(c.Xi,{value:"bias",className:"flex items-center",children:[(0,l.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Bias Monitoring"]}),(0,l.jsxs)(c.Xi,{value:"fairness",className:"flex items-center",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Fairness Metrics"]}),(0,l.jsxs)(c.Xi,{value:"alerts",className:"flex items-center",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Alerts",(null==A||null==(w=A.activeAlerts)?void 0:w.filter(e=>!e.acknowledged).length)>0&&(0,l.jsx)(r.E,{variant:"destructive",className:"ml-2 h-5 w-5 p-0 text-xs",children:A.activeAlerts.filter(e=>!e.acknowledged).length})]})]}),(0,l.jsx)(c.av,{value:"overview",className:"space-y-4",children:(0,l.jsx)(h.S,{data:A,loading:R,onRefresh:B})}),(0,l.jsx)(c.av,{value:"bias",className:"space-y-4",children:(0,l.jsx)(x.Q,{data:A,filters:S,loading:R,onRefresh:B})}),(0,l.jsx)(c.av,{value:"fairness",className:"space-y-4",children:(0,l.jsx)(m.T,{data:A,filters:S,loading:R,onRefresh:B})}),(0,l.jsx)(c.av,{value:"alerts",className:"space-y-4",children:(0,l.jsx)(j.a,{alerts:(null==A?void 0:A.activeAlerts)||[],loading:R,onRefresh:B})})]}),(0,l.jsx)(n.Zp,{children:(0,l.jsx)(n.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,l.jsxs)("div",{children:["Last updated: ",A?new Date().toLocaleString():"Never"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{children:["Auto-refresh: ",L?"Enabled (30s)":"Disabled"]}),(0,l.jsxs)("span",{children:["Time range: ",S.timeRange.preset||"Custom"]})]})]})})})]})}},30659:(e,s,a)=>{Promise.resolve().then(a.bind(a,15426))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(30659)),_N_E=e.O()}]);