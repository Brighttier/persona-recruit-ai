(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6498],{31388:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(95155),n=a(12115),l=a(13610),c=a(13563),i=a(66695),r=a(30285),d=a(26126),m=a(24944),x=a(17313),o=a(45727),u=a(40207),h=a(26854),j=a(37648),p=a(67554),f=a(68718),N=a(16923),v=a(8376);function b(){let[e,s]=(0,n.useState)(null),[a,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{g()},[]);let g=async()=>{try{s({status:"healthy",totalSize:2048,usedSpace:1340,collections:[{name:"users",documents:1247,size:"234 MB"},{name:"companies",documents:127,size:"45 MB"},{name:"jobs",documents:856,size:"189 MB"},{name:"applications",documents:4523,size:"678 MB"},{name:"interviews",documents:892,size:"123 MB"}],recentBackups:[{id:"1",date:"2024-06-24T02:00:00Z",size:"1.2 GB",status:"completed"},{id:"2",date:"2024-06-23T02:00:00Z",size:"1.1 GB",status:"completed"},{id:"3",date:"2024-06-22T02:00:00Z",size:"1.1 GB",status:"completed"}]})}catch(e){console.error("Error fetching database stats:",e)}finally{b(!1)}},w=e?e.usedSpace/e.totalSize*100:0;return(0,t.jsx)(l.U,{children:(0,t.jsxs)(c.m,{className:"py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[(0,t.jsx)(o.A,{className:"mr-3 h-8 w-8 text-primary"}),"Database Management"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor database health, performance, and manage backups"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Database Status"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(e=>{switch(e){case"healthy":return(0,t.jsx)(d.E,{className:"bg-green-100 text-green-800",children:"Healthy"});case"warning":return(0,t.jsx)(d.E,{className:"bg-orange-100 text-orange-800",children:"Warning"});case"error":return(0,t.jsx)(d.E,{variant:"destructive",children:"Error"});default:return(0,t.jsx)(d.E,{variant:"outline",children:e})}})((null==e?void 0:e.status)||"unknown"),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"All systems operational"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Storage Used"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[null==e?void 0:e.usedSpace," MB"]}),(0,t.jsx)(m.k,{value:w,className:"mt-2"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[w.toFixed(1),"% of ",null==e?void 0:e.totalSize," MB"]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Collections"}),(0,t.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.collections.length)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active collections"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Last Backup"}),(0,t.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:(null==e?void 0:e.recentBackups[0])?new Date(e.recentBackups[0].date).toLocaleDateString():"N/A"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automated daily backups"})]})]})]}),(0,t.jsxs)(x.tU,{defaultValue:"collections",className:"space-y-6",children:[(0,t.jsxs)(x.j7,{children:[(0,t.jsx)(x.Xi,{value:"collections",children:"Collections"}),(0,t.jsx)(x.Xi,{value:"backups",children:"Backups"}),(0,t.jsx)(x.Xi,{value:"maintenance",children:"Maintenance"})]}),(0,t.jsx)(x.av,{value:"collections",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{children:"Database Collections"}),(0,t.jsx)(i.BT,{children:"Collection sizes and document counts"})]}),(0,t.jsxs)(r.$,{variant:"outline",size:"sm",onClick:g,children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:null==e?void 0:e.collections.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium capitalize",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.documents.toLocaleString()," documents"]})]}),(0,t.jsx)(d.E,{variant:"outline",children:e.size})]},e.name))})})]})}),(0,t.jsx)(x.av,{value:"backups",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{children:"Database Backups"}),(0,t.jsx)(i.BT,{children:"Automated and manual backup history"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Download Latest"]}),(0,t.jsxs)(r.$,{size:"sm",children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Create Backup"]})]})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:null==e?void 0:e.recentBackups.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium",children:[new Date(e.date).toLocaleDateString()," at ",new Date(e.date).toLocaleTimeString()]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Size: ",e.size]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm capitalize",children:e.status})]})]},e.id))})})]})}),(0,t.jsx)(x.av,{value:"maintenance",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Database Maintenance"}),(0,t.jsx)(i.BT,{children:"Performance optimization and cleanup tools"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Index Optimization"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rebuild database indexes for better performance"})]}),(0,t.jsxs)(r.$,{variant:"outline",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Optimize"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Cleanup Old Data"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Remove expired sessions and temporary data"})]}),(0,t.jsxs)(r.$,{variant:"outline",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Cleanup"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Health Check"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive database health diagnostics"})]}),(0,t.jsxs)(r.$,{variant:"outline",children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Run Check"]})]})]})})]})})]})]})})}},77241:(e,s,a)=>{Promise.resolve().then(a.bind(a,31388))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(77241)),_N_E=e.O()}]);