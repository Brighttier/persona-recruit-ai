(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{24163:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Z});var t=a(95155),l=a(12115),r=a(40283),c=a(30285),d=a(66695),n=a(13563),i=a(50172),m=a(31949),x=a(76570),o=a(50286),h=a(86950),j=a(87057),u=a(8376),f=a(88390),N=a(40207),p=a(5263),g=a(18271),y=a(6874),w=a.n(y),v=a(13610),b=a(26126),A=a(55365);function Z(){let{getToken:e,loading:s}=(0,r.A)(),[a,y]=(0,l.useState)(null),[Z,k]=(0,l.useState)(!0),[B,R]=(0,l.useState)(null),S=(0,l.useCallback)(async()=>{if(!s){k(!0),R(null);try{let s=await e();if(!s)throw Error("User not authenticated. Please log in.");let a=await fetch("/api/admin/dashboard",{headers:{Authorization:"Bearer ".concat(s)}});if(!a.ok)throw Error("Failed to fetch dashboard data");let t=await a.json();y(t.data)}catch(e){R(e instanceof Error?e.message:"An unknown error occurred")}finally{k(!1)}}},[e,s]);return((0,l.useEffect)(()=>{S()},[S]),Z)?(0,t.jsx)(v.U,{children:(0,t.jsx)(n.m,{className:"flex items-center justify-center h-full",children:(0,t.jsx)(i.A,{className:"h-8 w-8 animate-spin"})})}):B||!a?(0,t.jsx)(v.U,{children:(0,t.jsx)(n.m,{children:(0,t.jsxs)(A.Fc,{variant:"destructive",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(A.TN,{children:B||"Could not load dashboard data."})]})})}):(0,t.jsx)(v.U,{children:(0,t.jsxs)(n.m,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-headline font-semibold text-foreground flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-3 h-8 w-8 text-primary"}),"Super Admin Dashboard"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor platform performance, manage users and companies, and oversee system operations."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,t.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a.totalUsers.toLocaleString()}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"+47 this week"})]})]}),(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Companies"}),(0,t.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a.totalCompanies}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"+3 this month"})]})]}),(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"System Health"}),(0,t.jsx)(j.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[a.systemHealth,"%"]}),(0,t.jsxs)(b.E,{variant:"default",className:"text-xs bg-green-100 text-green-800",children:[(0,t.jsx)(u.A,{className:"mr-1 h-3 w-3"}),"Healthy"]})]})]}),(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Monthly Revenue"}),(0,t.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",a.monthlyRevenue.toLocaleString()]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"+12% vs last month"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center",children:[(0,t.jsx)(N.A,{className:"mr-2 h-6 w-6 text-primary"})," Recent Activity"]}),(0,t.jsx)(d.BT,{children:"Latest platform activity and system events"})]}),(0,t.jsx)(d.Wu,{className:"space-y-4",children:a.recentActivity.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-md",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("user"===e.type?"bg-blue-500":"company"===e.type?"bg-green-500":"system"===e.type?"bg-orange-500":"bg-purple-500")}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]})]},s))})]}),(0,t.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center",children:[(0,t.jsx)(p.A,{className:"mr-2 h-6 w-6 text-primary"})," Platform Analytics"]}),(0,t.jsx)(d.BT,{children:"Key performance metrics and usage statistics"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a.activeJobs}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Jobs"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a.supportTickets}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"2.4k"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Job Applications"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"94%"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{className:"text-lg",children:"Admin Tools"})}),(0,t.jsxs)(d.Wu,{className:"space-y-2",children:[(0,t.jsx)(w(),{href:"/admin/users",children:(0,t.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4 text-primary"}),"User Management"]})}),(0,t.jsx)(w(),{href:"/admin/company-management",children:(0,t.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4 text-primary"}),"Company Management"]})}),(0,t.jsx)(w(),{href:"/admin/analytics",children:(0,t.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4 text-primary"}),"Platform Analytics"]})}),(0,t.jsx)(w(),{href:"/admin/system",children:(0,t.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4 text-primary"}),"System Health"]})}),(0,t.jsx)(w(),{href:"/admin/settings",children:(0,t.jsxs)(c.$,{variant:"outline",className:"w-full mt-2",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})})]})]}),(0,t.jsxs)(d.Zp,{className:"shadow-md",children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)(d.ZB,{className:"text-lg flex items-center",children:[(0,t.jsx)(m.A,{className:"mr-2 h-5 w-5 text-orange-500"}),"System Alerts"]})}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Database cleanup scheduled"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-green-50 border border-green-200 rounded",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm",children:"All systems operational"})]})]})})]})]})]})]})})}},72926:(e,s,a)=>{Promise.resolve().then(a.bind(a,24163))}},e=>{var s=s=>e(e.s=s);e.O(0,[4121,2076,7358],()=>s(72926)),_N_E=e.O()}]);